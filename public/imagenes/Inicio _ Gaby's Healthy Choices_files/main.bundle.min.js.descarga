!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React")):"function"==typeof define&&define.amd?define("pro-gallery",["React"],e):"object"==typeof exports?exports["pro-gallery"]=e(require("React")):t["pro-gallery"]=e(t.React)}("undefined"!=typeof self?self:this,(function(t){return function(t){function e(e){for(var i,s,n=e[0],o=e[1],a=0,h=[];a<n.length;a++)s=n[a],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);for(l&&l(e);h.length;)h.shift()()}var i={},r={0:0};function s(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],i=r[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,s){i=r[t]=[e,s]}));e.push(i[2]=n);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=function(t){return s.p+""+({1:"reactPlayer",2:"vimeoPlayer"}[t]||t)+".chunk.min.js"}(t);var l=new Error;o=function(e){a.onerror=a.onload=null,clearTimeout(h);var i=r[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",l.name="ChunkLoadError",l.type=s,l.request=n,i[1](l)}r[t]=void 0}};var h=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="http://localhost:9999/",s.oe=function(t){throw console.error(t),t};var n=("undefined"!=typeof self?self:this).webpackJsonp_pro_gallery=("undefined"!=typeof self?self:this).webpackJsonp_pro_gallery||[],o=n.push.bind(n);n.push=e,n=n.slice();for(var a=0;a<n.length;a++)e(n[a]);var l=o;return s(s.s=13)}([function(e,i){e.exports=t},function(t,e,i){"use strict";var r=a(i(4)),s=i(3),n=i(5),o=a(i(11));function a(t){return t&&t.__esModule?t:{default:t}}t.exports={Layouter:r.default,Group:n.Group,Item:s.Item,createLayout:o.default}},function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.__esModule=!0,e.utils=void 0;var n=new(function(){function t(){this._hash2int={}}var e=t.prototype;return e.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},e.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e},e.hashToInt=function(t,e,i){var r=0;if(void 0===t||0===t.length)return r;if(!this._hash2int[t]){for(var s=0;s<t.length;s++)r+=t.charCodeAt(s);this._hash2int[t]=r}return void 0===e||void 0===i?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},e.insertIfDefined=function(t,e,i){void 0!==i&&(t[e]=i)},e.convertStyleParams=function(t){var e=Object.assign({cubeImages:!1,cubeType:"fill",cubeRatio:1,rotatingCropRatios:"",smartCrop:!1,imageMargin:10,galleryMargin:0,floatingImages:0,chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3h,3v,3t,3b,3l,3r",rotatingGroupTypes:"",isVertical:!0,minItemSize:120,oneRow:!1,gallerySize:500,collageDensity:50,fixedColumns:0,columnWidths:""},t);return this.insertIfDefined(e,"cubeImages",e.cropItems),this.insertIfDefined(e,"cubeType",e.cropType),this.insertIfDefined(e,"cubeRatio",e.cropRatio),this.insertIfDefined(e,"rotatingCropRatios",Array.isArray(e.rotatingCropRatios)?e.rotatingCropRatios.join(","):void 0),this.insertIfDefined(e,"smartCrop",e.smartCrop),this.insertIfDefined(e,"imageMargin",e.itemSpacing),this.insertIfDefined(e,"galleryMargin",e.layoutSpacing),this.insertIfDefined(e,"floatingImages",e.randomSpacings),this.insertIfDefined(e,"chooseBestGroup",e.smartGrouping),this.insertIfDefined(e,"groupSize",e.itemsPerGroup),this.insertIfDefined(e,"groupTypes",Array.isArray(e.allowedGroupTypes)?e.allowedGroupTypes.join(","):void 0),this.insertIfDefined(e,"rotatingGroupTypes",Array.isArray(e.rotatingGroupTypes)?e.rotatingGroupTypes.join(","):void 0),this.insertIfDefined(e,"isVertical",e.isColumnsLayout),this.insertIfDefined(e,"minItemSize",e.minItemSize),this.insertIfDefined(e,"oneRow",e.isVerticalScroll),this.insertIfDefined(e,"gallerySize",e.rowSize||e.columnSize),this.insertIfDefined(e,"collageDensity",e.collageDensity),this.insertIfDefined(e,"fixedColumns",e.fixedColumns),this.insertIfDefined(e,"columnWidths",Array.isArray(e.columnWidths)?e.columnWidths.join(","):void 0),e},e.convertContainer=function(t,e){var i=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({bounds:{}},t);return t.width>=0&&!(t.galleryWidth>=0)&&(i.galleryWidth=t.width+2*((e.imageMargin||0)-(e.galleryMargin||0)),delete i.width),t.height>=0&&!(t.galleryHeight>=0)&&(i.galleryHeight=t.height+((e.imageMargin||0)-(e.galleryMargin||0)),delete i.height),e.externalInfoHeight>=0&&e.oneRow&&(i.galleryHeight-=e.externalInfoHeight),i},t}());e.utils=n},function(t,e,i){"use strict";e.__esModule=!0,e.Item=void 0;var r=i(2);function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(t){if(this.style={},this.visibility={},(t=t||{}).dto||(console.error("Item has no DTO",t),t.dto={}),this.config=t,this.dto=t.dto,this.idx=t.idx,this.inGroupIdx=t.inGroupIdx,this.container=t.container,this.cubeType="fill",t.styleParams){var e=t.styleParams;this.cubeType=e.cubeType,this.cubeImages=e.cubeImages,this._cubeRatio=e.cubeRatio,this.rotatingCropRatios=e.rotatingCropRatios,this.smartCrop=e.smartCrop,this.cropOnlyFill=e.cropOnlyFill,this.imageMargin=e.imageMargin,this.galleryMargin=e.galleryMargin,this.floatingImages=e.floatingImages,this.smartCrop=e.smartCrop}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=function(){return 0},this.resize(1)}var e,i,n,o=t.prototype;return o.fixMetadataVerticalVideoRatio=function(t){if(t.qualities&&t.qualities[0]){var e=t.qualities,i=e[e.length-1],r=i.height,s=i.width;t.height=r,t.width=s}},o.resize=function(t){var e=1;if(!1!==t){if(t>0)e=t;else if("object"==typeof t){if(t.width)e=Math.max(1,t.width)/this.width;else if(t.height){e=Math.max(1,t.height)/this.height}}return this.width*=e,this.height*=e,this.resized=!0,this}},o.pinToCorner=function(t,e){var i=this;void 0===e&&(e=!1);var r=t.indexOf("top")>=0,s=t.indexOf("left")>=0;this.style.top=r?0:"auto",this.style.bottom=r?"auto":0,this.style.left=s?0:"auto",this.style.right=s?"auto":0,this.pin=t,this.isPinnedTop=r,this.isPinnedLeft=s,this.pinAfter=e,this.pinAfterType=r?"top":s?"left":"",this.calcPinOffset=function(t,e){if(i.pinAfter){if(i.pin===e){var r=i.imageMargin;return"top"===e?i.pinAfter.height+2*r:"left"===e?i.pinAfter.width+2*r:0}return 0}return 0}},o.setPosition=function(t){this.style.position=t},o.getPosition=function(t){return parseInt(t,10)>=0?t:"auto"},e=t,(i=[{key:"top",get:function(){return this.getPosition(this.style.top)}},{key:"left",get:function(){return this.getPosition(this.style.left)}},{key:"right",get:function(){return this.getPosition(this.style.right)}},{key:"bottom",get:function(){return this.getPosition(this.style.bottom)}},{key:"group",set:function(t){Object.assign(this._group,t)},get:function(){return this._group}},{key:"groupOffset",set:function(t){Object.assign(this._groupOffset,t)}},{key:"offset",get:function(){var t={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0};return t.right=t.left+this.width,t.bottom=t.top+this.height,t}},{key:"transform",get:function(){if(this.floatingImages>0){var t=this.imageMargin,e=this.galleryMargin,i=this.offset.left>0?t:e,s=this.container.galleryWidth-this.offset.right>2*t?t:e,n=this.offset.top>0?t:e,o=this.container.galleryHeight-this.offset.bottom>2*t?t:e;return{transform:"translate3d("+r.utils.hashToInt(this.hash+this.offset.right+"x",-1*i,s)*this.floatingImages+"px, "+r.utils.hashToInt(this.hash+this.offset.top+"y",-1*n,o)*this.floatingImages+"px, 0)"}}return{}}},{key:"id",get:function(){return this.dto.id||this.dto.photoId||this.dto.itemId},set:function(t){this.dto.itemId=this.dto.photoId=this.dto.id=t}},{key:"hash",get:function(){return this.dto.hash||this.dto.mediaUrl||this.dto.id}},{key:"maxWidth",get:function(){return this.dto.width||this.dto.w},set:function(t){this.dto.width=t}},{key:"outerWidth",get:function(){return this.width+2*this.margins}},{key:"orgWidth",get:function(){return this.style.width||this.dto.width||this.dto.w||1}},{key:"width",get:function(){var t;return t=this.cubeImages&&this.ratio>=this.cubeRatio?this.style.cubedWidth||this.orgHeight*this.cubeRatio:this.orgWidth,Math.max(t,1)},set:function(t){this.style.cubedWidth=this.style.width=Math.max(1,t)}},{key:"outerHeight",get:function(){return this.height+2*this.margins}},{key:"orgHeight",get:function(){return this.style.height||this.dto.height||this.dto.h||1}},{key:"height",get:function(){var t;return t=this.cubeImages&&this.ratio<this.cubeRatio?this.style.cubedHeight||this.orgWidth/this.cubeRatio:this.orgHeight,Math.max(t,1)},set:function(t){this.style.cubedHeight=this.style.height=Math.max(1,t)}},{key:"maxHeight",get:function(){return this.dto.height||this.dto.h},set:function(t){this.dto.height}},{key:"margins",get:function(){return this.imageMargin||0},set:function(t){this.imageMargin=t}},{key:"cubeRatio",get:function(){var t,e=this;if(this.rotatingCropRatios&&this.rotatingCropRatios.length>0){var i=String(this.rotatingCropRatios).split(",");t=i[this.idx%i.length]}if(t||"function"!=typeof this._cubeRatio||(t=this._cubeRatio()),!t&&this.cropOnlyFill&&"fit"===this.cubeType&&(t=this.ratio),t||(t=this._cubeRatio||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof t){if(!this.dynamicCropRatios){var r=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(t);this.dynamicCropRatios=r?t.split("/").map((function(t,e){return t.indexOf("%")>0?{type:"%",val:parseFloat(t.replace("%",""))/100,dim:0===e?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(t.replace("px",""))}})):null}if(this.dynamicCropRatios){var s=this.dynamicCropRatios.map((function(t){if("%"===t.type){var i=e.container[t.dim]+("galleryHeight"===t.dim?e.imageMargin:0);return t.val*i-2*e.imageMargin}return t.val}));t=s[0]/s[1]}}return t=Number(t),!0===this.smartCrop?this.isPortrait?Math.min(t,1/t):Math.max(t,1/t):t},set:function(t){"number"==typeof this._cubeRatio&&(this._cubeRatio=t,this.style.cubedHeight=this.style.cubedWidth=0)}},{key:"orientation",get:function(){return this.ratio<.999?"portrait":"landscape"}},{key:"isPortrait",get:function(){return"portrait"===this.orientation}},{key:"isLandscape",get:function(){return"landscape"===this.orientation}},{key:"ratio",get:function(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio},set:function(t){this.orgRatio=t}},{key:"scheme",get:function(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,margins:this.margins,ratio:this.ratio,cropRatio:this.cubeRatio,isCropped:this.cubeImages,cropType:this.cubeType,group:this.group,offset:this.offset,groupOffset:this._groupOffset,transform:this.transform,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}}}])&&s(e.prototype,i),n&&s(e,n),t}();e.Item=n},function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0;var r,s=i(2),n=i(3),o=i(5),a=i(8),l=i(9),h=(r=i(10))&&r.__esModule?r:{default:r};function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(t){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(t),!1!==this.createLayoutOnInit&&this.createLayout(t)}var e,i,r,u=t.prototype;return u.updateParams=function(t){this.srcItems=t.items,this.styleParams=s.utils.convertStyleParams(t.styleParams),this.container=s.utils.convertContainer(t.container,this.styleParams);var e=t.options||{};this.useExistingLayout=!!e.useExistingLayout,this.createLayoutOnInit=e.createLayoutOnInit,this.showAllItems=!!e.showAllItems||!!t.showAllItems,this.skipVisibilitiesCalc=!!e.skipVisibilitiesCalc,this.useLayoutStore=!!e.useLayoutStore},u.verifyGalleryState=function(){return this.container.galleryWidth?!!this.styleParams.gallerySize||(this.ready=!1,this.reason="gallerySize is undefined or 0",!1):(this.ready=!1,this.reason="galleryWidth is undefined or 0",!1)},u.calcNumberOfColumns=function(t,e){return this.styleParams.isVertical?this.styleParams.fixedColumns>0?this.styleParams.fixedColumns:this.styleParams.columnWidths?this.styleParams.columnWidths.split(",").length:Math.ceil(t/e)||1:1},u.findShortestColumn=function(t,e){var i=t[0];if(this.styleParams.placeGroupsLtr)i=t[e%t.length];else{var r=-1,s=t,n=Array.isArray(s),o=0;for(s=n?s:s[Symbol.iterator]();;){var a;if(n){if(o>=s.length)break;a=s[o++]}else{if((o=s.next()).done)break;a=o.value}var l=a,h=l.height;(h<r||r<0)&&(r=h,i=l)}}return i},u.saveExistingLayout=function(){this.useLayoutStore&&(h.default.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,gallerySize:this.gallerySize,galleryHeight:this.galleryHeight,columns:this.columns})},u.prepareLayoutParams=function(){var t=this;if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,h.default.layout);else if(this.styleParams.isVertical){this.groups.slice(-3).forEach((function(e){var i=t.columns[e.columnIdx];i&&(i.height-=e.totalHeight,i.groups.splice(-1,1)),t.groups.splice(-1,1),e.items.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--}))}else{if(this.styleParams.oneRow){this.groups.slice(-1).forEach((function(e){var i=t.columns[0];i&&i.groups.splice(-1,1);var r=t.strips[0];r&&(r.setWidth(r.width-e.width),r.ratio=r.width/r.height,r.groups.splice(-1,1),t.strip=r),t.strips=[],t.groups.splice(-1,1),e.items.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})),this.galleryHeight=0}else{var e=this.strips.slice(-2);e&&(e.forEach((function(e){e&&(t.strips.splice(-1,1),e.groups.forEach((function(e){t.groups.splice(-1,1),e.items.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})))})),this.galleryHeight=this.strips.reduce((function(t,e){return t+e.height}),0),this.strip=new a.Strip({idx:this.strips.length,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,gallerySize:this.gallerySize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{var i;if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.gallerySize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else i="function"==typeof this.styleParams.gallerySize?this.styleParams.gallerySize():this.styleParams.gallerySize,this.gallerySize=Math.floor(i)+Math.ceil(2*(this.styleParams.imageMargin-this.styleParams.galleryMargin));this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new a.Strip({idx:1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,gallerySize:this.gallerySize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.gallerySize),this.gallerySize=this.styleParams.isVertical?Math.floor(this.galleryWidth/this.numOfCols):this.gallerySize;var r=this.styleParams,s=r.columnWidths,n=r.cubeRatio,o=!!(s&&s.length>0)&&s.split(",");this.columns=Array(this.numOfCols).fill(0).map((function(e,i){return new l.Column(i,o?o[i]:t.gallerySize,t.styleParams.cubeRatio)})),this.columns[this.numOfCols-1].width+=this.galleryWidth-this.columns.reduce((function(t,e){return e.width+t}),0),this.columns[this.numOfCols-1].cubeRatio=n*(this.columns[this.numOfCols-1].width/this.gallerySize),this.maxLoops=10*this.srcItems.length}},u.createLayout=function(t){if(void 0!==t&&this.updateParams(t),!this.verifyGalleryState())return!1;for(this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new n.Item({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new o.Group({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,gallerySize:this.gallerySize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],this.styleParams.isVertical){var e=this.findShortestColumn(this.columns,this.groups.length-1);this.group.fixItemsRatio(e.cubeRatio),this.group.resizeToWidth(e.width),this.group.round(),this.group.setTop(e.height),this.group.setLeft(e.idx*this.gallerySize),e.addGroup(this.group),e.height+=this.group.totalHeight,this.galleryHeight<e.height&&(this.galleryHeight=e.height)}else{if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new a.Strip({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,oneRow:this.styleParams.oneRow,gallerySize:this.gallerySize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&(this.styleParams.oneRow?this.strip.height=this.container.galleryHeight+(this.styleParams.imageMargin-this.styleParams.galleryMargin):1.5*this.gallerySize<this.strip.height&&(this.strip.height=this.gallerySize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}!this.skipVisibilitiesCalc&&!this.gotScrollEvent&&this.pointer<10?this.group.calcVisibilities(!0):this.group.calcVisibilities(this.bounds),this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){var i=this.container.galleryHeight/this.galleryHeight;this.items.map((function(t){return t.cubeImages=!0,t.cubeRatio=t.ratio=t.width/(t.height*i),t.height*=i,t})),this.groups.map((function(t){return t.height*=i,t.setTop(t.top*i),t.resizeItems(),t}))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams.imageMargin-this.styleParams.galleryMargin),this.width=this.lastGroup.left+this.lastGroup.width,this.skipVisibilitiesCalc||this.calcVisibilities(this.bounds),this.ready=!0,this.scheme},u.calcVisibilities=function(t){var e=this.columns,i=Array.isArray(e),r=0;for(e=i?e:e[Symbol.iterator]();;){var s;if(i){if(r>=e.length)break;s=e[r++]}else{if((r=e.next()).done)break;s=r.value}var n=s.groups,o=Array.isArray(n),a=0;for(n=o?n:n[Symbol.iterator]();;){var l;if(o){if(a>=n.length)break;l=n[a++]}else{if((a=n.next()).done)break;l=a.value}l.calcVisibilities(t)}}return this.scheme},u.lastVisibleItemIdxInHeight=function(t){for(var e=this.items.length-1;e>=0;e--){if(this.items[e].offset.top<t)return e}return this.items.length-1},u.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)},u.findNeighborItem=function(t,e){var i,r=this,s=this.layoutItems[t],n=function(t,e,i){var s,n,o,a=null,l={};return r.layoutItems.forEach((function(r){s=r.offset.top+r.height/2,n=r.offset.left+r.width/2,o=Math.sqrt(Math.pow(s-e,2)+Math.pow(n-t,2)),(null===a||o>0&&o<a)&&i(t,e,n,s)&&(a=o,l=r)})),l};switch(e){case"up":i=n(s.offset.left+s.width/2,s.offset.top,(function(t,e,i,r){return r<e}));break;case"left":i=n(s.offset.left,s.offset.top+s.height/2,(function(t,e,i){return i<t}));break;case"down":i=n(s.offset.left+s.width/2,s.offset.bottom,(function(t,e,i,r){return r>e}));break;default:case"right":i=n(s.offset.right,s.offset.top+s.height/2,(function(t,e,i){return i>t}))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",t,e),t)},u.getMaxGroupSize=function(){var t=1;try{t=("string"==typeof this.styleParams.groupTypes&&this.styleParams.groupTypes.length>0?this.styleParams.groupTypes.split(","):this.styleParams.groupTypes).reduce((function(t,e){return Math.max(t,parseInt(e))}),1),t=Math.min(t,this.styleParams.groupSize)}catch(e){console.error("couldn't calculate max group size - returing 3 (?)",e),t=3}return t},e=t,(i=[{key:"isLastImage",get:function(){return!this.srcItems[this.pointer+1]}},{key:"isLastImages",get:function(){return this.styleParams.layoutsVersion>1?!this.srcItems[this.pointer+1]:!this.srcItems[this.pointer+3]}},{key:"imagesLeft",get:function(){return this.srcItems.length-this.pointer-1}},{key:"items",get:function(){return this.layoutItems}},{key:"scheme",get:function(){return{items:this.items.map((function(t){return t.scheme})),groups:this.groups.map((function(t){return t.scheme})),strips:this.strips.map((function(t){return t.scheme})),columns:this.columns.map((function(t){return t.scheme})),height:this.height,width:this.width}}}])&&c(e.prototype,i),r&&c(e,r),t}();e.default=u},function(t,e,i){"use strict";e.__esModule=!0,e.Group=void 0;var r=i(3),s=i(2);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},h={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},c={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]},u=function(){function t(t){if(this.idx=t.idx,this.stripIdx=t.stripIdx,this.inStripIdx=t.inStripIdx,this.items=t.items,this.top=t.top,this.showAllItems=t.showAllItems,this.isLastItems=t.isLastItems,this.dummyItems=[],this.gallerySize=t.gallerySize,t.styleParams){var e=t.styleParams;this.oneRow=e.oneRow,this.cubeType=e.cubeType,this.cubeImages=e.cubeImages,this.isVertical=e.isVertical,this.minItemSize=e.minItemSize,this.collageAmount=e.collageAmount,this.collageDensity=e.collageDensity,this.groupTypes=e.groupTypes,this.rotatingGroupTypes=e.rotatingGroupTypes,this.chooseBestGroup=e.chooseBestGroup,this.layoutsVersion=e.layoutsVersion,this.externalInfoHeight=e.externalInfoHeight,this.imageMargin=e.imageMargin}this.visible=!0,this.rendered=!0,this.required=!0;for(var i=this.items.length;!this.isWithinMinItemSize&&i>0;)this.placeItems(i),this.resize(),i--}var e,i,u,p=t.prototype;return p.resize=function(){this.isVertical?this.resizeToWidth(this.gallerySize):this.resizeToHeight(this.gallerySize),this.setLeft(this.left),this.setTop(this.top)},p.safeGetItem=function(t){if(this.items[t])return this.items[t];if(this.dummyItems[t])return this.dummyItems[t];var e=new r.Item(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(i,!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},this.items[this.items.length-1].config));return e.idx=this.idx*(t+1)+1,e.type="dummy",this.dummyItems[t]=e,e},p.fixItemsRatio=function(t){var e=this.items,i=Array.isArray(e),r=0;for(e=i?e:e[Symbol.iterator]();;){var s;if(i){if(r>=e.length)break;s=e[r++]}else{if((r=e.next()).done)break;s=r.value}var n=s;n.cubeRatio=t,n.resize(1)}},p.round=function(){this.isLastGroup&&!this.oneRow?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);var t=this.items,e=Array.isArray(t),i=0;for(t=e?t:t[Symbol.iterator]();;){var r;if(e){if(i>=t.length)break;r=t[i++]}else{if((i=t.next()).done)break;r=i.value}var s=r;s.width=Math.round(s.width),s.height=Math.round(s.height),s.group={width:this.width,height:this.height}}var n=2*this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-n,this.safeGetItem(0).height=this.height-n;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-n,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*n;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-n,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*n;break;case"3t":this.safeGetItem(0).width=this.width-n,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*n,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*n,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*n,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*n,this.safeGetItem(2).width=this.width-n;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*n,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*n,this.safeGetItem(0).height=this.height-n;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*n,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*n,this.safeGetItem(2).height=this.height-n;break;case"3v":this.safeGetItem(0).width=this.width-n,this.safeGetItem(1).width=this.width-n,this.safeGetItem(2).width=this.width-n,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*n;break;case"3h":this.safeGetItem(0).height=this.height-n,this.safeGetItem(1).height=this.height-n,this.safeGetItem(2).height=this.height-n,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*n}},p.getGroupType=function(t){if(this.rotatingGroupTypes){var e=String(this.rotatingGroupTypes).split(",");return e[this.idx%e.length]}var i,r=this.isVertical;if(this.chooseBestGroup){var s=this.items.map((function(t){return t.orientation.slice(0,1)})).join("");i=(r?l:h)[s]}else 3!==this.items.length&&3!==t||(i=r?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==t||(i=r?"1,2h":"1,2v"),1!==this.items.length&&1!==t||(i="1");var n=i.length>0?i.split(","):[];if(this.groupTypes){var o=this.groupTypes.split(",");o.length>1?0===(n=n.filter((function(t){return o.indexOf(t)>=0}))).length&&(n=["1"]):n=o}if(this.layoutsVersion>1&&this.collageDensity>=0){var a=this.collageDensity,u=parseInt(n[n.length-1]),p=c[u],d=p[Math.floor(a*(p.length-1))];0===(n=n.filter((function(t){return d.indexOf(parseInt(t))>=0}))).length&&(n=["1"])}return n[this.calculateRandomSeed(n.length)]||"1"},p.calculateRandomSeed=function(t){var e;return e=this.isVertical?s.utils.hashToInt(this.items[0].hash)%t:(this.inStripIdx+this.stripIdx)%t,1===this.layoutsVersion&&this.collageAmount>=0&&(e+=(this.collageAmount-.5)*t),Math.round(Math.min(Math.max(0,e),t-1))},p.placeItems=function(t){this.type=this.getGroupType(t);var e,i=[],r=0,s=0;switch(this.type){default:case"1":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,s=e.height;break;case"2v":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(r/e.width),s+=e.height,i.push(e);break;case"2h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.innerOffset=[0,0],i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.innerOffset=[0,0],e.resize(s/e.height),r+=e.width,i.push(e);break;case"3b":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.resize(s/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.resize(r/e.width),s+=e.height,i.push(e);break;case"3t":(e=this.safeGetItem(1)).pinToCorner("bottom-left"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(s/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(r/e.width),s+=e.height,i=[e].concat(i);break;case"3r":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(r/e.width),s+=e.height,i.push(e),(e=this.safeGetItem(2)).pinToCorner("top-right"),e.resize(s/e.height),r+=e.width,i.push(e);break;case"3l":(e=this.safeGetItem(1)).pinToCorner("top-right"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(r/e.width),s+=e.height,i.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(s/e.height),r+=e.width,i=[e].concat(i);break;case"3v":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.setPosition("relative"),e.resize(r/e.width),s+=e.height,i.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(r/e.width),s+=e.height,e.pinToCorner("top",i[0]),i=[i[0],e,i[1]];break;case"3h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),i.push(e),r=e.width,s=e.height,(e=this.safeGetItem(2)).pinToCorner("top-right"),e.setPosition("relative"),e.resize(s/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(s/e.height),r+=e.width,e.pinToCorner("left",i[0]),i=[i[0],e,i[1]]}this.width=r,this.height=s,this.items=i,this.placed=!0},p.resizeToHeight=function(t){this.height=t,this.width=this.getWidthByHeight(t),this.resizeItems()},p.resizeToWidth=function(t){this.width=t,this.height=this.getHeightByWidth(t),this.resizeItems()},p.resizeItems=function(){var t=this,e=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;e.forEach((function(i,r){i.resize(t.getItemDimensions(e,r)),i.group={top:t.top,left:t.left,width:t.width,height:t.height},i.groupOffset={bottom:t.top+t.height,right:t.left+t.width}}))},p.getItemDimensions=function(t,e){var i=2*this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-i};case"2h":case"3h":return{height:this.height-i};case"3t":case"3b":return 0===e?{width:this.width-i}:{height:this.height-t[0].height-2*i};case"3r":case"3l":return 0===e?{height:this.height-i}:{width:this.width-t[0].width-2*i}}},p.getHeightByWidth=function(t){var e=1,i=1,r=2*this.imageMargin,s=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":i=1-(e=1/s[0]);break;case"2h":i=1-2*(e=1/(s[0]+s[1]));break;case"2v":i=2-(e=1/s[0]+1/s[1]);break;case"3h":i=1-3*(e=1/(s[0]+s[1]+s[2]));break;case"3v":i=3-(e=1/s[0]+1/s[1]+1/s[2]);break;case"3t":e=1/(s[2]+s[1])+1/s[0],i=2-2/(s[2]+s[1])+1/s[0];break;case"3b":e=1/(s[0]+s[1])+1/s[2],i=2-2/(s[0]+s[1])+1/s[2];break;case"3l":i=2-(e=(s[1]+s[2])/(s[0]*s[1]+s[1]*s[2]+s[0]*s[2]))*(2+s[0]);break;case"3r":i=2-(e=(s[0]+s[1])/(s[0]*s[1]+s[1]*s[2]+s[0]*s[2]))*(2+s[2])}return t*e+r*i},p.getWidthByHeight=function(t){var e=1,i=1,r=2*this.imageMargin,s=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":i=1-(e=s[0]);break;case"2h":i=2-(e=s[0]+s[1]);break;case"2v":i=1-2*(e=1/(1/s[0]+1/s[1]));break;case"3h":i=3-(e=s[0]+s[1]+s[2]);break;case"3v":i=1-3*(e=1/(1/s[0]+1/s[1]+1/s[2]));break;case"3t":e=1/(1/(s[2]+s[1])+1/s[0]),i=(2/(s[2]+s[1])+1/s[0]-2)*e;break;case"3b":e=1/(1/(s[0]+s[1])+1/s[2]),i=(2/(s[0]+s[1])+1/s[2]-2)*e;break;case"3l":e=(s[0]*s[1]+s[1]*s[2]+s[0]*s[2])/(s[1]+s[2]),i=2+s[0]-2*e;break;case"3r":e=(s[0]*s[1]+s[1]*s[2]+s[0]*s[2])/(s[0]+s[1]),i=2+s[2]-2*e}return t*e+r*i},p.setTop=function(t){this.top=t||0;var e=this.items,i=Array.isArray(e),r=0;for(e=i?e:e[Symbol.iterator]();;){var s;if(i){if(r>=e.length)break;s=e[r++]}else{if((r=e.next()).done)break;s=r.value}s.groupOffset={top:t,bottom:t+this.height}}},p.setLeft=function(t){this.left=t||0;var e=this.items,i=Array.isArray(e),r=0;for(e=i?e:e[Symbol.iterator]();;){var s;if(i){if(r>=e.length)break;s=e[r++]}else{if((r=e.next()).done)break;s=r.value}s.groupOffset={left:t,right:t+this.width}}},p.calcVisibilities=function(t){!0===t||!0===this.showAllItems?this.onscreen=this.visible=this.rendered=this.required=!0:this.oneRow?(this.onscreen=this.right>=t.onscreenTop&&this.left<=t.onscreenBottom,this.visible=this.right>=t.visibleTop&&this.left<=t.visibleBottom,this.rendered=this.right>=t.renderedTop&&this.left<=t.renderedBottom,this.required=this.right>=t.requiredTop&&this.left<=t.requiredBottom):(this.onscreen=this.bottom>=t.onscreenTop&&this.top<=t.onscreenBottom,this.visible=this.bottom>=t.visibleTop&&this.top<=t.visibleBottom,this.rendered=this.bottom>=t.renderedTop&&this.top<=t.renderedBottom,this.required=this.bottom>=t.requiredTop&&this.top<=t.requiredBottom);for(var e=0;e<this.items.length;e++)this.items[e].visibility={onscreen:this.onscreen,visible:this.visible,rendered:this.rendered,required:this.required}},e=t,(i=[{key:"id",get:function(){return"g"+this.idx+"_"+(this.items[0]||{}).id}},{key:"ratio",get:function(){return this.width/this.height}},{key:"totalHeight",get:function(){return this.height+(this.externalInfoHeight||0)}},{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"items",set:function(t){this._items=t},get:function(){return this._items}},{key:"realItems",get:function(){return this._items.filter((function(t){return"dummy"!==t.type}))}},{key:"isWithinMinItemSize",get:function(){var t=this;return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce((function(e,i){var r=Math.min(i.width,i.height)>=t.minItemSize;return e&&r}),!0))}},{key:"scheme",get:function(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((function(t){return t.scheme})),type:this.type,width:this.width,height:this.height,totalHeight:this.totalHeight,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}}}])&&a(e.prototype,i),u&&a(e,u),t}();e.Group=u},function(t,e,i){t.exports={changing_background:"_1dYUn",changingBackground:"_1dYUn"}},function(t,e){Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),i=e.length,r=new Array(i);i--;)r[i]=[e[i],t[e[i]]];return r})},function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.__esModule=!0,e.Strip=void 0;var s=function(){function t(t){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=t.idx,this.groupsPerStrip=t.groupsPerStrip,this.oneRow=t.oneRow,this.gallerySize=t.gallerySize,this.container=t.container}var e,i,s,n=t.prototype;return n.addGroup=function(t){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(t),t.stripIdx=this.idx,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio},n.markAsIncomplete=function(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1},n.setWidth=function(t){this.width=t,this.hasGroups&&(this.lastGroup.stripWidth=t)},n.resizeToHeight=function(t){this.height=t;var e=0,i=0,r=this.groups,s=Array.isArray(r),n=0;for(r=s?r:r[Symbol.iterator]();;){var o;if(s){if(n>=r.length)break;o=r[n++]}else{if((n=r.next()).done)break;o=n.value}var a=o;a.setLeft(e),a.width+=i,a.resizeToHeight(t),i=a.width,a.round(),i-=a.width,e+=a.width}},n.isFull=function(t,e){if(!this.hasGroups)return!1;var i=this.groupsPerStrip,r=this.oneRow,s=this.gallerySize;if(i>0)return this.groups.length>=i;var n,o=this.container.galleryWidth;if(r)n=!1;else{var a=o/(this.ratio+t.ratio)-s,l=o/this.ratio-s;(n=!isNaN(a)&&!isNaN(l)&&(l<0||a<0&&Math.abs(l)<Math.abs(a)))&&e&&(n=Number(Math.abs(l))<Math.abs(a))}return n},e=t,(i=[{key:"hasGroups",get:function(){return this.groups.length>0}},{key:"lastGroup",get:function(){return this.groups[this.groups.length-1]}},{key:"scheme",get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}}}])&&r(e.prototype,i),s&&r(e,s),t}();e.Strip=s},function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.__esModule=!0,e.Column=void 0;var s=function(){function t(t,e,i){this.idx=t,this.groups=[],this.height=0,this.width=e,this.cubeRatio=i}var e,i,s,n=t.prototype;return n.addGroup=function(t){this.addGroups([t])},n.addGroups=function(t){var e=this;this.groups=this.groups.concat(t),t.forEach((function(t){return t.columnIdx=e.idx}))},e=t,(i=[{key:"scheme",get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height}}}])&&r(e.prototype,i),s&&r(e,s),t}();e.Column=s},function(t,e,i){"use strict";function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.__esModule=!0,e.default=void 0;var o=new(function(){function t(){}var e,i,o;return e=t,(i=[{key:"layout",set:function(t){this._layout=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t)},get:function(){return this._layout}}])&&n(e.prototype,i),o&&n(e,o),t}());e.default=o},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n(s.default,e).createLayout()};var r,s=(r=i(4))&&r.__esModule?r:{default:r};function n(t,e,i){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var s=new(Function.bind.apply(t,r));return i&&o(s,i.prototype),s}).apply(null,arguments)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}},function(t,e){try{console.debug("Pro Gallery Version: 1.5.33")}catch(t){}},function(t,e,i){"use strict";i.r(e);var r={};i.r(r),i.d(r,"pick",(function(){return o})),i.d(r,"throttle",(function(){return a})),i.d(r,"debounce",(function(){return l})),i.d(r,"get",(function(){return h})),i.d(r,"isFunction",(function(){return c})),i.d(r,"isEqual",(function(){return u})),i.d(r,"isNumber",(function(){return p}));i(6),i(7);var s=i(0),n=i.n(s),o=function(t,e){var i={};return Object.entries(t||{}).forEach((function(t){var r=t[0],s=t[1];e.indexOf(r)>=0&&(i[r]=s)})),i},a=function(t,e){var i=!1,r=!1;return function(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];i?r=!0:(r=!1,t.apply(void 0,n),i=!0,setTimeout((function(){r&&t.apply(void 0,n),i=!1}),e))}},l=function(t,e){var i;return function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];clearTimeout(i),i=setTimeout((function(){t.apply(void 0,s)}),e)}},h=function(t,e,i){var r=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce((function(t,e){return null!=t?t[e]:t}),t);return void 0===r||r===t?i:r},c=function(t){return"function"==typeof t},u=function(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},p=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(i,!0).forEach((function(e){g(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f=function(){return{}},y={y:0,x:0,width:2560,height:1440,innerWidth:2560,innerHeight:1440,outerWidth:2560,outerHeight:1440,clientWidth:2560,clientHeight:1440},v=m({},y,{getBoundingClientRect:function(){return y}}),b=m({addEventListener:f,removeEventListener:f,createEvent:f,getElementById:function(){return v},getElementsByClassName:function(){return[v]},getElementsByTagName:function(){return[v]},querySelector:function(){return[v]},documentElement:v,activeElement:v,style:y},y);b.body=b;var w=m({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:f,removeEventListener:f,createEvent:f,CustomEvent:f,screen:y,open:f,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:f,requestAnimationFrame:f,dispatchEvent:f,document:b,getComputedStyle:f,localStorage:{},frames:[]},y);w.parent=w;var I=w,S=(new(function(){function t(){this.reset()}var e=t.prototype;return e.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(t){return!1}},e.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?I:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},t}())).window,O={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"},x=new(function(){function t(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this._viewMode=O.SITE}var e=t.prototype;return e.setViewMode=function(t){this._viewMode=t},e.isSiteMode=function(){return this._viewMode===O.SITE},e.isEditMode=function(){return this._viewMode===O.EDIT},e.isPreviewMode=function(){return this._viewMode===O.PREVIEW},e.isSEOMode=function(){return this._viewMode===O.SEO},t}()),P=x.isSiteMode,E=x.isEditMode,C=x.isPreviewMode,k=x.isSEOMode;function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(i,!0).forEach((function(e){L(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function L(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _,M=new(function(){function t(){this._cache={},this._hash2int={},this._params={},this._useCache=!E()&&!C(),this.setIsWixMobile=this.setIsWixMobile.bind(this),Object.assign(this,r)}var e=t.prototype;return e.isUndefined=function(t){return void 0===t},e.getOrPutFromCache=function(t,e){return!this._useCache||this.isSSR()?e():void 0!==this._cache[t]?this._cache[t]:(this._cache[t]=e(),this._cache[t])},e.hashToInt=function(t,e,i){var r=0;if(this.isUndefined(t)||0===t.length)return r;if(!this._hash2int[t]){for(var s=0;s<t.length;s++)r+=t.charCodeAt(s);this._hash2int[t]=r}return this.isUndefined(e)||this.isUndefined(i)?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},e.parseGetParam=function(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];var i="",r=[],s=location;if(e&&(s={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),s.search.substr(1).split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))})),!i){var n=decodeURIComponent(s.pathname).split("?")[1];if(!n)return"";n.split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))}))}return this._params[t]=i,i}catch(t){return!1}},e.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},e.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e},e.hashCode=function(t){var e,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},e.isWixMobile=function(){var t=this,e=function(){var e=t.parseGetParam("deviceType")||S.deviceType;return!!("true"===t.parseGetParam("showMobileView"))||(e?String(e).toLowerCase().indexOf("mobile")>=0:void 0)};return E()||C()?e():this.getOrPutFromCache("isWixMobile",e)},e.isUserAgentMobile=function(){try{var t=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||S.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e};return E()||C()?t():this.getOrPutFromCache("isUserAgentMobile",t)}catch(t){return!1}},e.setIsWixMobile=function(t){S.deviceType=t?"mobile":"desktop",this._cache.isWixMobile=t,this._cache.isMobile=t},e.isMobile=function(){var t=this,e=function(){var e=t.isWixMobile(),i=t.isUserAgentMobile();return t.isUndefined(e)?i:e};return!this.isTest()&&(E()||C()?e():this.getOrPutFromCache("isMobile",e))},e.isTest=function(){try{return S.isTest}catch(t){return!1}},e.isLocal=function(){try{var t=S.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}},e.isDev=function(){var t=this;return this.getOrPutFromCache("isDev",(function(){return t.isLocal()||t.shouldDebug("ph_local")||t.isOOI()&&!1||"true"===(t.safeLocalStorage()||{}).forceDevMode}))},e.isPlayground=function(){var t=this;return this.getOrPutFromCache("isPlayground",(function(){try{return t.isLocal()||S.location.origin.indexOf("pro-gallery.surge.sh")>-1}catch(t){return!1}}))},e.isVerbose=function(){return!this.isTest()&&(this.isPlayground()||"true"===(this.safeLocalStorage()||{}).forceDevMode)},e.isStoreGallery=function(){var t=this;return this.getOrPutFromCache("isStoreGallery",(function(){try{return S.location.search.toLowerCase().indexOf("isstore")>-1}catch(e){return t.isDev()&&console.error("cant find window",e),!1}}))},e.isSSR=function(){return!!S.isMock},e.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))},e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))},e.isExternalUrl=function(t){return/(^https?)|(^data)|(^blob)/.test(t)},e.isMobileViewer=function(){var t=this;return this.getOrPutFromCache("isMobileViewer",(function(){var e=t.isWixMobile(),i=t.isUserAgentMobile();return e&&!i}))},e.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!S.MSStream}catch(t){return!1}}))},e.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!S.MSStream}catch(t){return!1}}))},e.isLandscape=function(){var t=this;return this.getOrPutFromCache("isLandscape",(function(){if(!t.isMobile())return!1;try{if(t.isUndefined(S.orientation)){var e=S.matchMedia("(orientation: landscape)");return!(!e||!0!==e.matches)}return 90===S.orientation||-90===S.orientation}catch(t){return!1}}))},e.safeLocalStorage=function(){try{return localStorage||S}catch(t){return S}},e.shouldDebug=function(t){try{return!!this.safeLocalStorage()[t]||(S.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}},e.deviceHasMemoryIssues=function(){return this.isiOS()},e.getTabIndex=function(t){var e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1},e.setStateAndLog=function(t,e,i,r){var s=this;if(this.isVerbose()){console.log("State Change Called ("+e+")",i);var n=T({},t.state);t.setState(i,(function(){var i=T({},t.state),o=s.printableObjectsDiff(n,i,"state");Object.keys(o).length>0&&console.log("State Change Completed ("+e+")",o),s.isFunction(r)&&r.bind(t)()}))}else t.setState(i,(function(){s.isFunction(r)&&r.bind(t)()}))},e.printableObjectsDiff=function(t,e,i){var r=this;void 0===i&&(i="");var s=function(t){return""===t?t="''":r.isUndefined(t)&&(t="undefined"),String(t)};return function t(e,i,n,o){return void 0===o&&(o=1),o>3?{}:Object.entries(e).reduce((function(e,a){var l=a[0],h=a[1];return r.isEqual(h,i[l])||(Array.isArray(i[l])?(h.length!==i[l].length&&(e[l+".length"]="["+h.length+"] => ["+i[l].length+"]"),e=Object.assign(e,t(h,i[l],(n?n+".":"")+l,o+1))):"object"==typeof i[l]?e=Object.assign(e,t(h,i[l],(n?n+".":"")+l,o+1)):e[(n?n+".":"")+l]=s(h)+" => "+s(i[l])),e}),{})}(t,e,i,1)},e.getScreenWidth=function(){if(C()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(S.screen.width,S.screen.height):S.screen.width}catch(t){return 1920}},e.getScreenHeight=function(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(S.screen.width,S.screen.height):S.screen.height}catch(t){return 1200}},e.fixViewport=function(){if(!this.isOOI())try{if(this._cache.isLandscape=void 0,(P()||k())&&this.isMobile()&&!this.isMobileViewer()){var t=this.getViewportScaleRatio();S.document.body.style.transform="scale("+t+")",S.document.body.style.transformOrigin="0 0",S.document.body.style.width=100/t+"%",S.document.body.style.height=100/t+"%"}}catch(t){return!1}},e.getDevicePixelRatio=function(){try{return S.devicePixelRatio||S.screen.deviceXDPI/S.screen.logicalXDPI}catch(t){return 1}},e.getWindowWidth=function(){try{return S.innerWidth||980}catch(t){return 980}},e.getViewportScaleRatio=function(){var t=void 0!==S&&S.isGallery,e=this.isiOS()&&t;return this.isOOI()||!this.isMobile()||this.isMobileViewer()||!P()&&!k()||e?1:320/this.getScreenWidth()},e.getMobileEnabledClick=function(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}},e.getTopUrlParam=function(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((function(e){var i=e.split("=");return i[0]===t&&i[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]},e.scrollTo=function(t,e,i,r,s){this.isMobile()&&(i=0);var n=r?t.scrollLeft:t.scrollTop,o=e-n,a=0;t.setAttribute("data-scrolling","true"),function e(){var l=function(t,e,i,r){return 0===r?i+e:(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}(a+=20,n,o,i);a<i?setTimeout(e,20):(t.setAttribute("data-scrolling",""),"function"==typeof s&&s()),r?t.scrollLeft=l:t.scrollTop=l}()},e.getTitleOrFilename=function(t,e){return"string"==typeof t?t:e},e.isSmallScreen=function(){try{return(S.innerWidth||S.outerWidth)<640||this.isMobile()}catch(t){return!1}},e.isTouch=function(){var t=this;return this.getOrPutFromCache("isTouch",(function(){try{return t.isMobile()||"ontouchstart"in S.document.documentElement}catch(t){return!1}}))},e.browserIs=function(t){return this.getOrPutFromCache("browsers",(function(){var t={chrome:!1,chromeIos:!1,explorer:!1,firefox:!1,safari:!1,opera:!1};try{return t.chrome=navigator.userAgent.indexOf("Chrome")>-1,t.chromeIos=navigator.userAgent.indexOf("CriOS")>-1,t.explorer=navigator.userAgent.indexOf("MSIE")>-1||!!navigator.userAgent.match(/Trident.*rv:11\./),t.firefox=navigator.userAgent.indexOf("Firefox")>-1,t.safari=navigator.userAgent.indexOf("Safari")>-1,t.opera=navigator.userAgent.toLowerCase().indexOf("op")>-1,t.chrome&&t.safari&&(t.safari=!1),t.chrome&&t.opera&&(t.chrome=!1),t}catch(e){return t}}))[t]},e.colorStringToObject=function(t){try{var e=null;if("string"==typeof t)if(0===t.trim().indexOf("rgb")){var i=t.match(/\d+/g);i&&Array.isArray(i)&&i.length>=3&&(e={r:i[0],g:i[1],b:i[2]})}else{t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,r){return e+e+i+i+r+r}));var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);e=r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}return e}catch(t){console.error("Error converting color string to object",t)}},t}());try{_=n.a.createContext({})}catch(t){_=null}var R=["isUnknownWidth"],A=function(t){return R.reduce((function(e,i){return e[i]=t[i],e}),{})};n.a.Component;function N(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function j(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var H=function(t){var e,i;function r(e){var i;return"object"!=typeof(i=t.call(this,e)||this).context&&(i.context={}),e&&"object"==typeof e.context&&(i.context=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?N(i,!0).forEach((function(e){j(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):N(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},i.context,{},e.context)),i}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r}(n.a.Component);j(H,"contextType",_);var G=function(t){var e,i;function r(){return t.apply(this,arguments)||this}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.prototype.render=function(){if("true"!==M.getTopUrlParam("pgdebug"))return!1;var t=n.a.createElement("div",{className:"version-header "},"Pro Gallery Version #",S.staticsVersion),e="";try{e=" psw"+S.top.screen.width+" piw"+S.top.innerWidth+" pbw"+S.top.document.body.clientWidth}catch(t){}var i=n.a.createElement("div",{className:"version-header "},M.isLandscape()?"land":"port"," sw",S.screen.width,"sh",S.screen.height," iw",S.innerWidth," bw",S.document.body.clientWidth," sr","1","rc",this.props.resizeCount," oc",this.props.orientationCount," nh",this.props.newHeight," lh",this.props.lastHeight,e,"www",this.props.maxGalleryWidth);return n.a.createElement("div",null,t,i)},r}(H),z={BLUR:"BLUR",COLOR:"COLOR"},B="resized",W="thumbnail",V="preload",U="download",F="download_sample",K={HIGH_RES:"img",LOW_RES:"thumb",SEO:"seoLink",VIDEO:"video"};function q(){return(q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Y(i,!0).forEach((function(e){J(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function J(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var X=function(t){var e,i;function r(){return t.apply(this,arguments)||this}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.componentDidMount=function(){try{"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}catch(t){console.error(t)}},s.render=function(){var t=this.props,e=t.alt,i=t.displayed,r=t.imageDimensions,s=t.createUrl,o=t.id,a=t.actions,l=t.settings,h=t.styleParams,c=l&&l.imageProps&&"function"==typeof l.imageProps?l.imageProps(o):{},u={},p=r||{},d=(p.marginLeft,p.marginTop,function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(p,["marginLeft","marginTop"])),m=k(),g=["gallery-item-content","image-item","gallery-item-visible","gallery-item","gallery-item-preloaded",h.cubeImages&&"fit"===h.cubeType?"grid-fit":"",h.imageLoadingMode===z.COLOR?"load-with-color":""].join(" "),f=function(t){return n.a.createElement("div",{className:g,onTouchStart:a.handleItemMouseDown,onTouchEnd:a.handleItemMouseUp,key:"image_container-"+o,"data-hook":"image-item",style:i?{}:Z({},u,{},d)},t)},y=n.a.createElement("img",q({key:(h.cubeImages&&"fill"===h.cubeType?"cubed-":"")+"image",className:"gallery-item-visible gallery-item gallery-item-preloaded",alt:e||"untitled image",src:s(B,K.SEO),loading:"lazy",style:d},c)),v=n.a.createElement("canvas",q({key:(h.cubeImages&&"fill"===h.cubeType?"cubed-":"")+"image",className:"gallery-item-visible gallery-item gallery-item-hidden gallery-item-preloaded",role:"img",alt:e||"untitled image","data-src":s(B,K.HIGH_RES),style:d},c));return f(m?y:v)},r}(H),$={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",SHARE_BUTTON_CLICKED:"SHARE_BUTTON_CLICKED",TEXT_DOWNLOAD_BUTTON_CLICKED:"TEXT_DOWNLOAD_BUTTON_CLICKED",LOVE_BUTTON_CLICKED:"LOVE_BUTTON_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",DOWNLOAD_BUTTON_CLICKED:"DOWNLOAD_BUTTON_CLICKED",BUY_NOW_CLICKED:"BUY_NOW_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED"};function Q(){return(Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var tt=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",Q({viewBox:"0 0 60 60",fill:"currentColor",width:e||"60",height:e||"60"},i),n.a.createElement("path",{d:"M30,0c16.6,0,30,13.4,30,30S46.6,60,30,60C13.4,60,0,46.6,0,30S13.4,0,30,0z",fillRule:"evenodd",clipRule:"evenodd"}))};tt.displayName="play_background";var et=tt;function it(){return(it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var rt=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",it({viewBox:"0 0 60 60",fill:"currentColor",width:e||"60",height:e||"60"},i),n.a.createElement("path",{d:"M41.5,30l-17,10V20L41.5,30z"}))};rt.displayName="play_triangle";var st=rt;function nt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function ot(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nt(i,!0).forEach((function(e){at(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function at(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ht=function(t){var e,r;function s(e){var i;return(i=t.call(this,e)||this).pause=i.pause.bind(lt(i)),i.play=i.play.bind(lt(i)),i.state={playedOnce:!1,playing:!1,reactPlayerLoaded:!1,vimeoPlayerLoaded:!1},i}r=t,(e=s).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=s.prototype;return o.componentDidMount=function(){var t=this;S&&S.ReactPlayer||i.e(1).then(i.t.bind(null,40,7)).then((function(e){S.ReactPlayer=e.default,t.setState({reactPlayerLoaded:!0})})),S&&S.Vimeo||!this.props.videoUrl||!this.props.videoUrl.includes("vimeo.com")||i.e(2).then(i.bind(null,41)).then((function(e){S.Vimeo={Player:e.default},t.setState({vimeoPlayerLoaded:!0})}))},o.componentWillReceiveProps=function(t){t.playing&&this.setState({playedOnce:!0})},o.componentDidUpdate=function(t){t.currentIdx!==this.props.currentIdx&&this.fixIFrameTabIndexIfNeeded()},o.play=function(){this.props.playVideo(this.props.idx)},o.pause=function(){this.props.pauseVideo()},o.createPlayerElement=function(){var t=this;if(!S||!S.ReactPlayer)return null;var e=S.ReactPlayer,i=this.props.style.ratio>=this.props.cubeRatio,r={width:i?"100%":"auto",height:i?"auto":"100%",opacity:this.props.loadingStatus?"1":"0"};if(this.props.styleParams.cubeImages&&"fill"===this.props.styleParams.cubeType){var s=[r.height,r.width];r.width=s[0],r.height=s[1],r.position="absolute",r.margin="auto",r.minHeight="100%",r.minWidth="100%",r.left="-100%",r.right="-100%",r.top="-100%",r.bottom="-100%"}var o=this.props.videoUrl?this.props.videoUrl:this.props.createUrl(B,K.VIDEO);return n.a.createElement(e,{className:"gallery-item-visible video gallery-item",id:"video-"+this.props.id,width:"100%",height:"100%",url:o,alt:this.props.alt?this.props.alt:"untitled video",loop:!!this.props.styleParams.videoLoop,ref:function(e){return t.video=e},volume:this.props.styleParams.videoSound?.8:0,playing:this.props.playing,onEnded:function(){t.setState({playing:!1}),t.props.actions.eventsListener($.VIDEO_ENDED,t.props)},onPause:function(){t.setState({playing:!1})},playbackRate:Number(this.props.styleParams.videoSpeed)||1,onPlay:function(){t.setState({playing:!0})},onReady:function(){t.fixIFrameTabIndexIfNeeded(),t.props.actions.setItemLoaded()},config:{file:{attributes:{muted:!this.props.styleParams.videoSound,preload:"metadata",poster:this.props.createUrl(B,K.HIGH_RES),style:r,type:"video/mp4"}}},key:"video-"+this.props.id})},o.fixIFrameTabIndexIfNeeded=function(){if(this.props.isExternalVideo){var t=S.document&&S.document.getElementById("video-"+this.props.id),e=t&&t.getElementsByTagName("iframe"),i=e&&e[0];i&&(this.props.currentIdx===this.props.idx?i.setAttribute("tabIndex","0"):i.setAttribute("tabIndex","-1"))}},o.createImageElement=function(){return n.a.createElement("canvas",{key:"image-"+this.props.id,alt:this.props.alt?this.props.alt:"untitled video",className:"gallery-item-hidden gallery-item-visible gallery-item "+(this.props.loadingStatus.loaded?" gallery-item-loaded ":"")+(this.props.loadingStatus.failed?" failed ":""),"data-src":this.props.createUrl(B,K.HIGH_RES)})},o.canVideoPlayInGallery=function(t,e){return!(!M.isMobile()||"expand"===t||"fullscreen"===t)||(!M.isMobile()&&"expand"!==t&&"fullscreen"!==t||!M.isMobile()&&"onClick"!==e)},o.shouldRenderVideo=function(){return!(!this.state.playedOnce&&(this.props.isExternalVideo||M.isMobile()))},o.render=function(){var t="gallery-item-content gallery-item-visible gallery-item-preloaded gallery-item-video gallery-item video-item"+(M.isiPhone()?" ios":"")+(this.props.loadingStatus.loaded?" gallery-item-loaded ":"");this.state.playing&&(t+=" playing");var e=!this.props.hidePlay&&[n.a.createElement("i",{key:"play-triangle","data-hook":"play-triangle",className:"gallery-item-video-play-triangle play-triangle "},n.a.createElement(st,null)),n.a.createElement("i",{key:"play-bg","data-hook":"play-background",className:"gallery-item-video-play-background play-background "},n.a.createElement(et,null))],i=n.a.createElement("div",{className:"pro-circle-preloader",key:"video-preloader-"+this.props.idx}),r=this.props.imageDimensions||{},s=(r.marginLeft,r.marginTop,function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(r,["marginLeft","marginTop"])),o=this.props.styleParams,a=o.videoPlay,l=o.itemClick,h=this.canVideoPlayInGallery(l,a)&&this.shouldRenderVideo()?n.a.createElement("div",{className:t+" animated fadeIn ","data-hook":"video_container-video-player-element",key:"video_container-"+this.props.id,style:M.deviceHasMemoryIssues()?{}:ot({backgroundImage:"url("+this.props.createUrl(B,K.LOW_RES)+")"},s)},this.createPlayerElement(),e,i):n.a.createElement("div",{className:t,"data-hook":"video_container-image-element",key:"video_container-"+this.props.id,style:ot({backgroundImage:"url("+this.props.createUrl(B,K.HIGH_RES)+")"},s)},this.createImageElement(),e,i),c=this.props.hover;return n.a.createElement("div",{key:"video-and-hover-container"+this.props.idx},[h,c])},s}(H);function ct(){return(ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ut(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function pt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var dt=function(t){var e,i;function r(){return t.apply(this,arguments)||this}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.getTextDimensions=function(){var t=this.props,e=t.style,i=t.styleParams,r=t.cubeRatio,s=e.ratio<r-.01,n=(s?e.height/e.maxHeight:e.width/e.maxWidth)*e.maxHeight,o="fit"===i.cubeType?0:(e.height-n)/2,a="translate(0, 0) scale("+(s?e.height/e.maxHeight:e.width/e.maxWidth)+")";return{marginTop:o,width:e.maxWidth+"px",height:e.maxHeight+"px",transformOrigin:"0 0",WebkitTransform:a,MsTransform:a,OTransform:a,transform:a}},s.componentWillMount=function(){this.props.actions.setItemLoaded()},s.processInnerhtml=function(t){try{return t.replace(/class="font_\d+"/gm,"")}catch(e){return t}},s.render=function(){var t=this.props,e=t.id,i=t.styleParams,r=t.html,s=t.style,o=t.actions,a=t.imageDimensions,l=this.processInnerhtml(r),h=this.getTextDimensions(),c=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ut(i,!0).forEach((function(e){pt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ut(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},{dangerouslySetInnerHTML:{__html:l}},{},{style:Object.assign(h,"fit"===i.cubeType?{backgroundColor:s.bgColor}:{})}),u={height:a?a.height:"inherit",backgroundColor:"fit"!==i.cubeType?s.bgColor:"inherit"};return n.a.createElement("div",{className:"gallery-item-content",style:u},n.a.createElement("div",ct({className:"gallery-item-visible gallery-item gallery-item-loaded text-item",key:"item-text-"+e,onTouchStart:o.handleItemMouseDown,onTouchEnd:o.handleItemMouseUp,"data-hook":"text-item"},c)))},r}(H);function mt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function gt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?mt(i,!0).forEach((function(e){ft(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ft(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var yt=function(t){var e,i;function r(){return t.apply(this,arguments)||this}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.createImageElement=function(){return n.a.createElement("canvas",{key:"image-"+this.props.id,alt:this.props.alt?this.props.alt:"untitled video",className:"gallery-item-hidden gallery-item-visible gallery-item gallery-item-preloaded "+(this.props.loadingStatus.loaded?" gallery-item-loaded ":"")+(this.props.loadingStatus.failed?" failed ":""),"data-src":this.props.createUrl(B,K.HIGH_RES)})},s.render=function(){var t=this.props.imageDimensions||{},e=(t.marginLeft,t.marginTop,function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["marginLeft","marginTop"])),i=!this.props.hidePlay&&[n.a.createElement("i",{key:"play-triangle","data-hook":"play-triangle",className:"gallery-item-video-play-triangle play-triangle "},n.a.createElement(st,null)),n.a.createElement("i",{key:"play-bg","data-hook":"play-background",className:"gallery-item-video-play-background play-background "},n.a.createElement(et,null))],r=n.a.createElement("div",{className:"gallery-item-content gallery-item-visible gallery-item-preloaded gallery-item-video gallery-item video-item","data-hook":"video-placeholder_container-image-element",key:"video-and-hover-container"+this.props.id,style:gt({backgroundImage:"url("+this.props.createUrl(B,K.HIGH_RES)+")"},e)},this.createImageElement(),i),s=this.props.hover;return n.a.createElement("div",{key:"video-and-hover-container"+this.props.idx},[r,s])},r}(H);function vt(t){return{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",boxSizing:"border-box",paddingLeft:t.textsHorizontalPadding+"px",paddingRight:t.textsHorizontalPadding+"px",paddingTop:("center"!==t.galleryVerticalAlign?t.textsVerticalPadding:0)+"px",paddingBottom:("center"!==t.galleryVerticalAlign?t.textsVerticalPadding:0)+"px"}}function bt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function wt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?bt(i,!0).forEach((function(e){It(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):bt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function It(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var St=function(t){var e,i;function r(){return t.apply(this,arguments)||this}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.getHoverClass=function(){var t=this.props,e=t.styleParams,i=t.forceShowHover,r=["gallery-item-hover"];return(e.isSlider||e.isSlideshow||e.hasThumbnails)&&r.push(e.galleryVerticalAlign),r.push("fullscreen-"+(e.fullscreen?"enabled":"disabled")),M.isUndefined(e.itemOpacity)&&r.push("default"),i?r.push("force-hover"):M.isMobile()&&r.push("hide-hover"),r.join(" ")},s.render=function(){var t=this.props,e=t.shouldHover,i=t.imageDimensions,r=t.actions,s=t.idx,o=t.styleParams;if(!e)return null;var a=this.getHoverClass(),l=i||{},h=(l.marginLeft,l.marginTop,l.width,l.height,function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(l,["marginLeft","marginTop","width","height"]));return n.a.createElement("div",{className:a,key:"item-hover-"+s,"data-hook":"item-hover-"+s,"aria-hidden":!0},n.a.createElement("div",{style:wt({},h,{},vt(o)),onTouchStart:r.handleItemMouseDown,onTouchEnd:r.handleItemMouseUp},this.props.render?n.a.createElement("div",{className:"gallery-item-hover-inner"},this.props.render(this.props)):this.props.children))},r}(H);function Ot(){return n.a.createElement("svg",{className:"buy-icon",xmlns:"http://www.w3.org/2000/svg",width:"38",height:"34",viewBox:"0 0 38 34"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("path",{stroke:"currentColor",d:"M.7870039 2.59301758h6.9136797l3.7205137 22.89656932 22.3489443.012",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{stroke:"currentColor",d:"M28.0140389 4.49572754h9.017334L34.1188973 19.4727783H11.0089119",strokeLinecap:"round",strokeLinejoin:"round"}),n.a.createElement("path",{stroke:"currentColor",d:"M15.002193 28.5c1.3971616 0 2.502193 1.1042242 2.502193 2.5s-1.1050314 2.5-2.502193 2.5S12.5 32.3957758 12.5 31s1.1050314-2.5 2.502193-2.5zM27.5 31c0-1.3957758 1.1050314-2.5 2.502193-2.5s2.502193 1.1042242 2.502193 2.5-1.1050314 2.5-2.502193 2.5S27.5 32.3957758 27.5 31z"}),n.a.createElement("path",{fill:"currentColor",d:"M23 .50625185V11.4270815c0 .2795952-.2319336.5062518-.5.5062518-.2761424 0-.5-.2261351-.5-.5062518V.50625185C22 .22665667 22.2319336 0 22.5 0c.2761424 0 .5.2261351.5.50625185zM8 4h9v1H8z"}),n.a.createElement("path",{fill:"currentColor",d:"M25.53553353 8.0000001l.7071068.7071068-3.53553392 3.5355339-.70710676-.7071068z"}),n.a.createElement("path",{fill:"currentColor",d:"M19.0000001 8.70710647l.7071068-.7071068 3.5355339 3.53553392-.7071068.70710676z"})))}var xt=function(t){var e,i;function r(){return t.apply(this,arguments)||this}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.prototype.render=function(){var t=this,e=this.props.styleParams,i=e.customButtonText||"Click here";return n.a.createElement("div",{className:"custom-button-wrapper",style:{justifyContent:e.galleryHorizontalAlign,zIndex:17}},this.props.small?n.a.createElement(Ot,null):n.a.createElement("button",{"data-hook":"custom-button-button",onClick:function(){return t.props.actions.eventsListener($.BUY_NOW_CLICKED,t.props)},tabIndex:-1},i,n.a.createElement("div",{className:"overlay"})))},r}(H);var Pt=function(t){var e,i;function r(){return t.apply(this,arguments)||this}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.prototype.render=function(){var t=this.props,e=t.title,i=t.style,r=t.spanStyle;return n.a.createElement("div",{className:"gallery-item-title","data-hook":"item-title",style:i},n.a.createElement("span",{style:r},e))},r}(H);var Et=function(t){var e,i;function r(){return t.apply(this,arguments)||this}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r.prototype.render=function(){var t=this.props,e=t.description,i=t.style,r=t.spanStyle;return n.a.createElement("div",{className:"gallery-item-description","data-hook":"item-description",style:i},e.split("\n").map((function(t,e){return n.a.createElement("span",{key:e,style:r},t,n.a.createElement("br",null))})))},r}(H),Ct={SHOW_ON_HOVER:"SHOW_ON_HOVER",SHOW_BELOW:"SHOW_BELOW",SHOW_ABOVE:"SHOW_ABOVE",SHOW_NOT_ON_HOVER:"SHOW_NOT_ON_HOVER",SHOW_ALWAYS:"SHOW_ALWAYS",DONT_SHOW:"DONT_SHOW"},kt={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"},Dt={spaceBetweenElements:16,spaceBetweenTitleAndDescription:6},Tt=new(function(){function t(){}var e=t.prototype;return e.getDimensions=function(t){var e=S.getComputedStyle(t),i=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),s=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),n=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return{width:t.clientWidth-r-s,height:t.clientHeight-i-n}},e.saveCurrentDisplay=function(t){t&&t.setAttribute("data-display",this.getCss(t,"display"))},e.getSavedDisplay=function(t){return t&&t.getAttribute("data-display")||"-webkit-box"},e.removeElement=function(t){this.saveCurrentDisplay(t),this.setCss(t,{display:"none"})},e.hideElement=function(t,e){if(void 0===e&&(e=!0),e){var i=this.getSavedDisplay(t);this.setCss(t,{visibility:"hidden",display:i})}else this.setCss(t,{visibility:"hidden"})},e.showElement=function(t,e){if(void 0===e&&(e=!0),e){var i=this.getSavedDisplay(t);this.setCss(t,{visibility:"visible",display:i})}else this.setCss(t,{visibility:"visible"})},e.getCss=function(t,e,i){return S.getComputedStyle(t)[e]||i},e.setCss=function(t,e){try{Object.assign(t.style,e)}catch(t){}},e.shouldFix=function(t,e){var i=t.styleParams,r=t.title,s=t.description,n=t.style,o=e.styleParams,a=e.title,l=e.description,h=e.style,c=o.allowSocial||o.loveButton||o.allowDownload,u=i.allowSocial||i.loveButton||i.allowDownload;return n.height!==h.height||n.width!==h.width||i.isSlideshow!==o.isSlideshow||i.allowTitle!==o.allowTitle||i.allowDescription!==o.allowDescription||i.slideshowInfoSize!==o.slideshowInfoSize||i.externalInfoHeight!==o.externalInfoHeight||i.textImageSpace!==o.textImageSpace||i.textsVerticalPadding!==o.textsVerticalPadding||i.textsHorizontalPadding!==o.textsHorizontalPadding||i.titleDescriptionSpace!==o.titleDescriptionSpace||i.imageInfoType!==o.imageInfoType||i.itemDescriptionFont!==o.itemDescriptionFont||i.calculateTextBoxHeightMode!==o.calculateTextBoxHeightMode||i.itemFont!==o.itemFont||u!==c||r!==a||s!==l},e.calcAvailableHeight=function(t,e,i){var r,s=t.styleParams,n=t.itemContainer;if(s.isSlideshow){var o=n.getElementsByClassName("gallery-item-social"),a=o.length>0&&o[0],l=a.clientHeight,h=parseInt(this.getCss(a,"margin-bottom",0));r=s.slideshowInfoSize-24-l-h}else if(e){var c=s.titlePlacement===Ct.SHOW_BELOW?"gallery-item-bottom-info":"gallery-item-top-info",u=n.getElementsByClassName(c),p=u.length>0&&u[0],d=parseInt(this.getCss(p,"padding-top",0))+parseInt(this.getCss(p,"padding-bottom",0)),m=s.imageInfoType===kt.SEPARATED_BACKGROUND&&s.titlePlacement!==Ct.SHOW_ON_HOVER&&(s.allowTitle||s.allowDescription)&&s.textImageSpace?s.textImageSpace:0;r=s.externalInfoHeight-d-m}else r=i;return r},e.fix=function(t,e){if(!M.isTest()){var i=t.styleParams,r=t.title,s=t.description,n=!1;if(i.titlePlacement!==Ct.SHOW_BELOW&&i.titlePlacement!==Ct.SHOW_ABOVE||(n=!0),e&&t&&t.itemContainer){var o=this.getDimensions(e),a=this.calcAvailableHeight(t,n,o.height),l=e.getElementsByClassName("custom-button-wrapper"),h=e.getElementsByClassName("gallery-item-title"),c=e.getElementsByClassName("gallery-item-description"),u=l.length>0,p=u&&l[0],d=h.length>0&&h[0],m=c.length>0&&c[0],g=o.width<135;if(this.hideElement(d),this.hideElement(m,!n),this.hideElement(p,!(i.isSlideshow||n)),u){this.showElement(p,!(i.isSlideshow||n));var f=this.getDimensions(p).height;a+30<f?(this.removeElement(p),u=!1):g?this.setCss(p.querySelector("button"),{"min-width":"0px","max-width":"135px"}):o.width<190&&this.setCss(p.querySelector("button"),{"min-width":"135px","max-width":o.width+"px"}),!Number.isNaN(f)&&u&&(a-=f,(a-=Dt.spaceBetweenElements)<0&&(a=0))}var y=r&&i.allowTitle,v=0;if(y&&(this.showElement(d),this.setCss(d,{overflow:"visible"}),1===h.length)){var b=parseInt(d.children[0].offsetHeight)>parseInt(d.clientHeight)?parseInt(d.children[0].offsetHeight):parseInt(d.clientHeight),w=parseInt(this.getCss(d,"line-height",1)),I=1;if(b>=w&&(I=Math.floor(b/w)),0===(v=Math.floor(a/w)))this.removeElement(d);else this.setCss(d,{overflow:"hidden"}),v<=I?(this.setCss(d,{"-webkit-line-clamp":v+""}),b=w*v):(this.setCss(d,{"-webkit-line-clamp":"none"}),b=w*I),a>b?a-=b:a=0}if(m&&i.allowDescription&&s&&a>0&&(y&&v>0||!y)){this.showElement(m,!n),y&&(a-=i.titleDescriptionSpace),a<0&&(a=0);var S=parseInt(this.getCss(m,"line-height",1)),O=Math.floor(a/S);0===O?this.removeElement(m):this.setCss(m,{overflow:"hidden","-webkit-line-clamp":O+""})}}}},t}());function Lt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function _t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Mt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rt=new(function(){function t(){this.features={fullscreenRedesign:{title:"New fullscreen design",releaseDate:Date.parse("2017-09-25T12:00:00.000Z")},spacingCalculation:{title:"Improve spacing calculation",releaseDate:Date.parse("2017-08-29T11:27:29.000Z")},fixedColumnsInMasonry:{title:"Allow fixed number of columns in Masonry layout",releaseDate:Date.parse("2018-05-24T18:00:00.000Z")},mobileSettings:{title:"Separate mobile and desktop setting",releaseDate:Date.parse("2018-12-18T12:00:50.054Z")}},this.freezeDate=new Date,this.updateFeatures()}var e,i,r;return t.prototype.updateFeatures=function(){var t=this;this.supports=Object.entries(this.features).reduce((function(e,i){var r,s=i[0],n=i[1].releaseDate;return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lt(i,!0).forEach((function(e){_t(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Lt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},e,((r={})[s]=t.freezeDate>=n,r))}))},e=t,(i=[{key:"freezeDate",get:function(){return this._dateCreated||new Date},set:function(t){"object"==typeof t&&"function"==typeof t.getTime&&(this._dateCreated=t,this.updateFeatures())}}])&&Mt(e.prototype,i),r&&Mt(e,r),t}());function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Nt=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).debouncedTryFixLineHeight=M.debounce(i.tryFixLineHeight.bind(At(i)),500).bind(At(i)),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.getElementClassNames=function(){var t=this.props,e=t.showShare,i=t.styleParams,r=t.isNarrow,s=["gallery-item-text"];return e&&s.push("hidden"),i.showArrows&&s.push("padded-horizontal"),r&&s.push("narrow-item"),s.join(" ")},s.allowAnyAction=function(){var t=this.props.styleParams;return t.loveButton||t.allowSocial||t.allowDownload},s.getElementStyle=function(){var t=this.props,e=t.styleParams,i=t.style,r=!(e.isSlideshow||e.isSlider||e.hasThumbnails||e.titlePlacement!==Ct.SHOW_ON_HOVER&&e.titlePlacement!==Ct.SHOW_NOT_ON_HOVER&&e.titlePlacement!==Ct.SHOW_ALWAYS),s="center"===i.justifyContent,n={justifyContent:e.galleryVerticalAlign,alignItems:e.galleryHorizontalAlign,textAlign:e.galleryTextAlign};return r&&this.allowAnyAction()&&(e.allowTitle||e.allowDescription)&&(n.paddingBottom=70),s&&(n.marginTop=i.height/15),e.isRTL&&(n.direction="rtl"),n},s.getItemTexts=function(){var t,e,i=this,r=this.props,s=r.title,o=r.description,a=r.id,l=r.styleParams,h=r.style,c=r.isNarrow,u=r.shouldShowButton,p=r.container,d=s&&l.allowTitle,m=o&&l.allowDescription,g=Rt.supports.mobileSettings;if(t=m?{marginBottom:l.titleDescriptionSpace}:u?{marginBottom:Dt.spaceBetweenElements}:{marginBottom:0},e=u?{marginBottom:Dt.spaceBetweenElements}:{marginBottom:0},M.isMobile()&&g&&(l.isSlideshowFont?(void 0!==l.itemFontSlideshow&&(t.font=l.itemFontSlideshow.value,t.textDecoration=l.textDecorationTitle),void 0!==l.itemDescriptionFontSlideshow&&(e.font=l.itemDescriptionFontSlideshow.value,e.textDecoration=l.textDecorationDesc),void 0!==l.itemFontColorSlideshow&&(t.color=l.itemFontColorSlideshow.value,t.textDecorationColor=l.itemFontColorSlideshow.value),void 0!==l.itemDescriptionFontColorSlideshow&&(e.color=l.itemDescriptionFontColorSlideshow.value,e.textDecorationColor=l.itemDescriptionFontColorSlideshow.value)):(void 0!==l.itemFont&&(t.font=l.itemFont.value,t.textDecoration=l.textDecorationTitle),void 0!==l.itemDescriptionFont&&(e.font=l.itemDescriptionFont.value,e.textDecoration=l.textDecorationDesc),void 0!==l.itemFontColor&&(t.color=l.itemFontColor.value,t.textDecorationColor=l.itemFontColor.value),void 0!==l.itemDescriptionFontColor&&(e.color=l.itemDescriptionFontColor.value,e.textDecorationColor=l.itemDescriptionFontColor.value))),l.isSlideshow&&p&&p.galleryWidth&&p.galleryWidth<800){var f=p.galleryWidth;l.allowSlideshowCounter&&(f-=30),l.playButtonForAutoSlideShow&&(f-=30),t.maxWidth=f,e.maxWidth=f}var y=d&&n.a.createElement(Pt,{key:"item-title-"+a,title:s,style:t,spanStyle:{}}),v=m&&n.a.createElement(Et,{key:"item-description-"+a,description:o,style:e,spanStyle:{}}),b=u&&n.a.createElement(xt,{type:"button",styleParams:l,style:h,small:c,actions:{eventsListener:this.props.actions.eventsListener}});if(!y&&!v&&!b)return null;var w=this.getElementStyle(),I=this.getElementClassNames();return n.a.createElement("div",{style:w,ref:function(t){return i.container=t},className:I,dir:"auto"},y,v,b)},s.tryFixLineHeight=function(){try{Tt.fix(this.props,this.container)}catch(t){M.isVerbose()&&console.error("Error on componentDidUpdate",t)}},s.componentDidUpdate=function(t){Tt.shouldFix(t,this.props)&&this.debouncedTryFixLineHeight()},s.componentDidMount=function(){var t=this;this.tryFixLineHeight(),setTimeout((function(){t.tryFixLineHeight()}),1e3)},s.render=function(){return this.getItemTexts()},r}(H);function jt(){return(jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Ht=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",jt({viewBox:"0 0 18 15",fill:"currentColor",width:e||"18",height:e||"15"},i),n.a.createElement("path",{fill:"currentColor",d:"M9,15c-0.1,0-0.2,0-0.3-0.1c-0.2-0.2-6-3.9-7.8-7C0,6.3-0.3,4.5,0.3,3C0.8,1.7,1.7,0.7,3,0.3\tC5.3-0.5,7.7,0.7,9,2.4c1.4-1.9,4-2.9,6.1-2.1c1.2,0.5,2.2,1.4,2.6,2.6c0.6,1.5,0.3,3.3-0.6,5c-1.8,3.3-7.5,6.8-7.8,7\tC9.2,15,9.1,15,9,15z"}))};Ht.displayName="love_full";var Gt=Ht;function zt(){return(zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Bt=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",zt({viewBox:"0 0 18 15",fill:"currentColor",width:e||"18",height:e||"15"},i),n.a.createElement("path",{fill:"currentColor",d:"M9,15c-0.1,0-0.2,0-0.3-0.1c-0.2-0.2-6-3.9-7.8-7C0,6.3-0.3,4.5,0.3,3C0.8,1.7,1.7,0.7,3,0.3\tC5.3-0.5,7.7,0.7,9,2.4c1.4-1.9,4-2.9,6.1-2.1c1.2,0.5,2.2,1.4,2.6,2.6c0.6,1.5,0.3,3.3-0.6,5c-1.8,3.3-7.5,6.8-7.8,7\tC9.2,15,9.1,15,9,15z M4.6,1.2c-0.4,0-0.8,0.1-1.2,0.2c-0.9,0.3-1.6,1-1.9,2C1,4.6,1.2,6,2,7.3c1.4,2.5,5.8,5.5,7.1,6.3\tc1.2-0.8,5.6-3.7,7-6.3c0.8-1.4,1-2.8,0.5-4c-0.3-0.9-1-1.6-1.9-1.9l0,0c-1.9-0.7-4.3,0.7-5.1,2.4c-0.2,0.4-0.9,0.4-1.1,0\tC7.8,2.4,6.3,1.2,4.6,1.2z"}))};Bt.displayName="love_empty";var Wt=Bt;function Vt(){return(Vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ft=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).toggleLove=i.toggleLove.bind(Ut(i)),i.onKeyPress=i.onKeyPress.bind(Ut(i)),i.state={animate:!1},i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.onKeyPress=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.toggleLove(t),!1}},s.toggleLove=function(t){t.stopPropagation(),t.preventDefault(),this.props.actions.eventsListener($.LOVE_BUTTON_CLICKED,this.props),this.setState({animate:!this.props.isLoved})},s.containerClassName=function(){switch(this.props.layout){case"fullscreen":return"fullscreen-social-love-container show-tooltip";default:return"block-fullscreen gallery-item-social-love gallery-item-social-button show-tooltip"}},s.buttonClasssName=function(){var t=[];switch(this.props.layout){case"fullscreen":t.push("fullscreen-social-love");break;default:t.push("gallery-item-social-love"),this.props.styleParams.isStoreGallery||t.push("block-fullscreen")}return t.push(this.viewClassName()),this.props.isLoved?t.push("love_full pro-gallery-loved"):t.push("love_empty"),this.state.animate&&t.push("love-animation"),t.join(" ")},s.viewClassName=function(){switch(this.props.layout){case"fullscreen":return"desktop"===this.props.device?"fullscreen-icon":"";default:return""}},s.counterClassName=function(){switch(this.props.layout){case"fullscreen":return"fullscreen-social-love-count pro-fullscreen-shown "+this.viewClassName();default:return"block-fullscreen gallery-item-social-love-count "+this.viewClassName()}},s.createLoveCounter=function(){var t=this.props.loveCount||0;return this.props.showCounter&&t>0?n.a.createElement("i",{"data-hook":"love-counter",className:this.counterClassName()},t):null},s.render=function(){var t=this.createLoveCounter(),e=P()||k()?M.getMobileEnabledClick(this.toggleLove):{onClick:function(t){return t.stopPropagation()}},i=this.props.isLoved?{color:"red"}:{};return n.a.createElement("span",Vt({"data-hook":"love-button",className:this.containerClassName()},e,{onKeyDown:this.onKeyPress,tabIndex:this.props.styleParams.isSlideshow&&this.props.currentIdx===this.props.idx?0:-1}),n.a.createElement("button",{"data-hook":"love-icon",className:this.buttonClasssName(),role:"checkbox","aria-checked":this.props.isLoved,style:i,tabIndex:-1},this.props.isLoved?n.a.createElement(Gt,{size:"21"}):n.a.createElement(Wt,{size:"21"})),t)},r}(H);function Kt(){return(Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var qt=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",Kt({viewBox:"0 0 16 15",fill:"currentColor",width:e||"16",height:e||"15"},i),n.a.createElement("path",{d:"M15.5,14H0.5C0.2,14,0,14.2,0,14.5C0,14.8,0.2,15,0.5,15h15.1c0.3,0,0.5-0.2,0.5-0.5C16,14.2,15.8,14,15.5,14z M8.1,10.9 C8.2,11,8.4,11,8.5,11c0.1,0,0.3,0,0.4-0.1l3.5-3.5c0.2-0.2,0.2-0.5,0-0.7c-0.2-0.2-0.5-0.2-0.7,0L9,9.3V0.5C9,0.2,8.8,0,8.5,0 C8.2,0,8,0.2,8,0.5v8.8L5.3,6.6c-0.2-0.2-0.6-0.2-0.7,0c-0.2,0.2-0.2,0.5,0,0.7L8.1,10.9z"}))};qt.displayName="download";var Yt=qt;function Zt(){return(Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Jt=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",Zt({viewBox:"0 0 18 17",fill:"currentColor",width:e||"18",height:e||"17"},i),n.a.createElement("path",{d:"M12.221 2.361l4.453 4.722-4.453 4.723v-1.7l-.758-.19a9.37 9.37 0 0 0-2.274-.283c-2.936 0-5.684 1.228-7.673 3.211 2.179-8.31 8.905-8.783 9.758-8.783h.947v-1.7zm-.947.756C9.189 3.21.664 4.627 0 17c1.516-3.778 5.116-6.328 9.19-6.328.663 0 1.326.095 2.084.19v3.305L18 7.083 11.274 0v3.117z"}))};Jt.displayName="share_store";var Xt=Jt;function $t(){return($t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var te=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).onDownloadKeyPress=i.onDownloadKeyPress.bind(Qt(i)),i.onDownloadTextKeyPress=i.onDownloadTextKeyPress.bind(Qt(i)),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.getSocialShare=function(){var t=this.props,e=t.styleParams,i=t.id,r=t.actions;if(e.allowSocial){var s=n.a.createElement("i",{className:"block-fullscreen share-store"},n.a.createElement(Xt,{size:"20"}));if(P()||k()){var o=e.isSlideshow?r.getShare():"";return n.a.createElement("div",{className:"block-fullscreen gallery-item-social-share gallery-item-social-button","data-hook":"gallery-item-social-button",key:"item-social-share-"+i,onClick:function(t){return r.toggleShare(t,!0)}},s,o)}return n.a.createElement("div",{className:"show-tooltip block-fullscreen gallery-item-social-share gallery-item-social-button","data-hook":"gallery-item-social-button",key:"item-social-share-"+i,onClick:function(t){return t.stopPropagation()}},s)}return""},s.getLoveButton=function(){var t=this.props,e=t.styleParams,i=t.isNarrow,r=t.isSmallItem,s=M.pick(this.props,["id","item","idx","currentIdx","styleParams","hashtag","type","actions","loveCount","isLoved"]);return e.loveButton?n.a.createElement(Ft,$t({},s,{itemId:this.props.photoId,layout:e.isSlideshow?"slideshow":"gallery",showCounter:e.loveCounter&&!r&&!i})):""},s.getDownload=function(){var t=this,e=this.props,i=e.styleParams,r=e.isDemo,s=e.type,o=e.createUrl,a=e.actions;if(i.allowDownload&&!M.isiOS()&&(!P()&&!k()||!r)){var l="block-fullscreen gallery-item-social-download "+(i.allowSocial?"":" pull-right ")+" gallery-item-social-button",h=n.a.createElement("i",{className:"block-fullscreen "+(r?" inactive":"")},n.a.createElement(Yt,{size:"20"})),c={className:l,"data-hook":"item-download","aria-label":"Download",role:"button",tabIndex:i.isSlideshow&&this.props.currentIdx===this.props.idx?0:-1},u=i.isStoreGallery?F:U,p=o(u,K.VIDEO)||o(u,K.HIGH_RES),d={target:"_blank",href:p,onClick:function(e){e.stopPropagation(),e.preventDefault(),S.open(p,"_blank"),t.props.actions.eventsListener($.DOWNLOAD_BUTTON_CLICKED,t.props)},onKeyDown:function(e){return t.onDownloadKeyPress(e,p)}};return"text"===s?n.a.createElement("a",$t({},c,{onClick:function(e){e.stopPropagation(),a.eventsListener($.TEXT_DOWNLOAD_BUTTON_CLICKED,t.props)},onKeyDown:function(e){return t.onDownloadTextKeyPress(e)}}),h):r?n.a.createElement("a",$t({},c,{download:"download"}),h):n.a.createElement("a",$t({},c,{download:"download"},d),h)}return""},s.onDownloadKeyPress=function(t,e){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),t.preventDefault(),S.open(e,"_blank"),this.props.actions.eventsListener($.DOWNLOAD_BUTTON_CLICKED,this.props),!1}},s.onDownloadTextKeyPress=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),this.props.actions.eventsListener($.TEXT_DOWNLOAD_BUTTON_CLICKED,this.props),!1}},s.render=function(){var t=this.props,e=t.styleParams,i=t.id,r=t.showShare,s=t.isSmallItem,o=t.isNarrow,a=t.isShort,l=t.isVerticalContainer,h=this.getSocialShare(),c=this.getLoveButton(),u=this.getDownload(),p=[[r,"hidden"],[s,"small-item"],[a,"short-item"],[o,"narrow-item"],[l,"vertical-item"],[e.hasThumbnails,"with-arrows"],[e.allowSocial||e.loveButton||e.allowDownload,"populated-item"],[e.titlePlacement===Ct.SHOW_BELOW||e.titlePlacement===Ct.SHOW_ABOVE,"text-external-item"]].filter((function(t){return t[0]})).map((function(t){return t[1]})).join(" ");return n.a.createElement("div",{className:"gallery-item-social gallery-item-direction-"+e.galleryTextAlign+" "+p,key:"item-social-"+i,"data-hook":"item-social"},c,u,h)},r}(H),ee={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"};function ie(){return(ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var re=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",ie({viewBox:"0 0 8 17",fill:"currentColor",width:e||"8",height:e||"17"},i),n.a.createElement("path",{d:"M 7.21 0.91C 7.21 1.79 7.21 3.38 7.21 3.38 7.21 3.38 5.38 3.19 4.92 3.89 4.67 4.27 4.82 5.39 4.8 6.19 5.6 6.19 6.42 6.19 7.22 6.19 7.02 7.12 6.87 7.76 6.72 8.57 6.03 8.57 4.79 8.57 4.79 8.57 4.79 8.57 4.79 16.23 4.79 16.23 4.79 16.23 2.5 16.23 1.43 16.23 1.43 13.87 1.43 11.11 1.43 8.6 0.9 8.6 0.52 8.6-0 8.6-0 7.71-0 7.07-0 6.19 0.5 6.19 0.9 6.19 1.41 6.19 1.48 4.42 1.51 2.68 2.39 1.79 3.38 0.79 4.32 0.91 7.21 0.91Z",fill:"currentColor"}))};re.displayName="facebook";var se=re;function ne(){return(ne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var oe=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",ne({viewBox:"0 0 15 15",fill:"currentColor",width:e||"15",height:e||"15"},i),n.a.createElement("path",{d:"M 7.5 0.01C 3.36 0.01 0 3.37 0 7.5 0 10.69 1.99 13.4 4.79 14.49 4.74 14.01 4.69 13.04 4.83 12.44 4.97 11.85 5.73 8.65 5.73 8.65 5.73 8.65 5.5 8.19 5.5 7.52 5.5 6.46 6.11 5.66 6.88 5.66 7.53 5.66 7.85 6.15 7.85 6.74 7.85 7.39 7.43 8.37 7.21 9.28 7.03 10.04 7.6 10.66 8.34 10.66 9.7 10.66 10.74 9.23 10.74 7.16 10.74 5.34 9.43 4.06 7.56 4.06 5.38 4.06 4.11 5.69 4.11 7.37 4.11 8.03 4.36 8.73 4.68 9.11 4.74 9.19 4.75 9.25 4.73 9.33 4.67 9.57 4.54 10.09 4.52 10.2 4.48 10.34 4.41 10.37 4.26 10.3 3.31 9.86 2.71 8.46 2.71 7.34 2.71 4.93 4.46 2.72 7.76 2.72 10.4 2.72 12.46 4.61 12.46 7.13 12.46 9.76 10.8 11.88 8.5 11.88 7.73 11.88 7 11.48 6.75 11 6.75 11 6.37 12.46 6.28 12.82 6.12 13.43 5.71 14.19 5.4 14.7 6.07 14.89 6.77 15 7.5 15 11.64 15 14.99 11.64 14.99 7.5 14.99 3.37 11.64 0.01 7.5 0.01Z",fill:"currentColor"}))};oe.displayName="pinterest";var ae=oe;function le(){return(le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var he=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",le({viewBox:"0 0 16 13",fill:"currentColor",width:e||"16",height:e||"13"},i),n.a.createElement("path",{d:"M 15.99 1.6C 15.91 2.19 15.04 2.79 14.51 3.23 15.03 10.77 6.33 15.48 0.01 11.66 1.78 11.67 3.78 11.19 4.83 10.21 3.3 9.96 2.21 9.28 1.79 7.94 2.24 7.9 2.87 8.04 3.17 7.85 1.77 7.33 0.66 6.52 0.59 4.68 1.09 4.73 1.35 5.02 1.97 4.95 1.06 4.38 0.03 2.21 0.96 0.61 2.61 2.4 4.66 3.79 7.87 4.05 7.08 0.72 11.57-1.34 13.59 1.06 14.38 0.89 15.04 0.61 15.71 0.33 15.44 1.09 14.88 1.57 14.33 2.06 14.92 1.95 15.55 1.87 15.99 1.6Z",fill:"currentColor"}))};he.displayName="twitter";var ce=he;function ue(){return(ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var pe=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",ue({viewBox:"0 0 17 13",fill:"currentColor",width:e||"17",height:e||"13"},i),n.a.createElement("path",{d:"M 16.48 0.01C 16.48 0.01 16.11 0.01 16.11 0.01 16.11 0.01 16.11-0 16.11-0 16.11-0 16.1 0.01 16.1 0.01 16.1 0.01 0.96 0.01 0.96 0.01 0.96 0.01 0.95-0 0.95-0 0.95-0 0.94 0.01 0.94 0.01 0.94 0.01 0.52 0.01 0.52 0.01 0.23 0.01 0 0.25 0 0.55 0 0.55 0 12.46 0 12.46 0 12.76 0.23 13 0.52 13 0.52 13 16.48 13 16.48 13 16.77 13 17 12.76 17 12.46 17 12.46 17 0.55 17 0.55 17 0.25 16.77 0.01 16.48 0.01ZM 6.23 5.83C 6.23 5.83 1.05 11.15 1.05 11.15 1.05 11.15 1.05 1.47 1.05 1.47 1.05 1.47 6.23 5.83 6.23 5.83ZM 7.05 6.51C 7.05 6.51 8.2 7.48 8.2 7.48 8.3 7.56 8.41 7.6 8.53 7.6 8.65 7.6 8.76 7.56 8.86 7.48 8.86 7.48 10.01 6.51 10.01 6.51 10.01 6.51 15.28 11.92 15.28 11.92 15.28 11.92 1.78 11.92 1.78 11.92 1.78 11.92 7.05 6.51 7.05 6.51ZM 10.83 5.83C 10.83 5.83 15.95 1.52 15.95 1.52 15.95 1.52 15.95 11.09 15.95 11.09 15.95 11.09 10.83 5.83 10.83 5.83ZM 14.81 1.09C 14.81 1.09 8.53 6.36 8.53 6.36 8.53 6.36 2.25 1.09 2.25 1.09 2.25 1.09 14.81 1.09 14.81 1.09Z",fill:"currentColor"}))};pe.displayName="email";var de=pe;function me(){return(me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var ge=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",me({viewBox:"0 0 8 15",fill:"currentColor",width:e||"8",height:e||"15"},i),n.a.createElement("path",{d:"M 7.99 6.38C 7.99 6.38 5 6.38 5 6.38 5 6.38 5 10.53 5 10.53 5 11.28 5.09 11.7 6.09 11.7 6.09 11.7 7.99 11.7 7.99 11.7 7.99 11.7 7.99 14.89 7.99 14.89 7.99 14.89 6.99 15 5.89 15 3.3 15 2 13.29 2 11.38 2 11.38 2 6.38 2 6.38 2 6.38 0.01 6.38 0.01 6.38 0.01 6.38 0.01 3.41 0.01 3.41 2.4 3.2 2.6 1.28 2.8 0 2.8 0 5 0 5 0 5 0 5 3.2 5 3.2 5 3.2 7.99 3.2 7.99 3.2 7.99 3.2 7.99 6.38 7.99 6.38Z",fill:"currentColor"}))};ge.displayName="tumblr";var fe=ge;function ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ve=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).handleKeyDown=i.handleKeyDown.bind(ye(i)),i.getShareArr=i.getShareArr.bind(ye(i)),i.buttons=[],i.shareArr=i.getShareArr(i.props.type),i.state={showShare:!1,focusedShareIcon:0},i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.getShareArr=function(t){return"text"===t?["facebook","twitter","tumblr","email"]:["facebook","twitter","pinterest","tumblr","email"]},s.handleKeyDown=function(t,e){if(this.state.showShare)switch(t.keyCode||t.charCode){case 38:case 37:case 33:return t.preventDefault(),t.stopPropagation(),M.setStateAndLog(this,"Share Keypress",{focusedShareIcon:Math.max(1,this.state.focusedShareIcon-1)}),!1;case 39:case 40:case 34:return t.preventDefault(),t.stopPropagation(),M.setStateAndLog(this,"Share Keypress",{focusedShareIcon:Math.min("text"===e?4:5,this.state.focusedShareIcon+1)}),!1;case 9:case 27:return t.preventDefault(),t.stopPropagation(),this.props.actions.toggleShare(t,!1),M.setStateAndLog(this,"Share Keypress",{showShare:!1,focusedShareIcon:0}),!1}switch(t.keyCode||t.charCode){case 32:case 13:if(t.preventDefault(),t.stopPropagation(),this.state.showShare){var i=this.props.allProps,r={network:this.shareArr[this.state.focusedShareIcon-1],shareProps:i};this.props.actions.eventsListener($.SHARE_BUTTON_CLICKED,r),this.props.actions.toggleShare(t,!1),M.setStateAndLog(this,"Share Keypress",{showShare:!1,focusedShareIcon:0})}else this.props.actions.toggleShare(t,!0),M.setStateAndLog(this,"Share Keypress",{showShare:!0,focusedShareIcon:1});return!1}return!0},s.componentDidUpdate=function(){this.props.showShare&&!this.state.showShare?M.setStateAndLog(this,"props.showShare is true",{showShare:!0}):!this.props.showShare&&this.state.showShare&&M.setStateAndLog(this,"props.showShare is false",{showShare:!1});try{if((P()||k())&&!M.isMobile()&&window.document&&window.document.activeElement&&window.document.activeElement.className){var t=window.document.activeElement;if(!this.state.showShare&&String(t.className).indexOf("network-")>=0)return void this.socialShareBox.focus()}var e=this.state.focusedShareIcon;e>0&&this.buttons[e-1].focus()}catch(t){console.warn("Cannot focus on share icon",this.props.focus,t)}},s.getShareSvg=function(t){switch(t.toLowerCase()){case ee.FACEBOOK:return se;case ee.TWITTER:return ce;case ee.PINTEREST:return ae;case ee.EMAIL:return de;default:case ee.TUMBLR:return fe}},s.getShareItem=function(t,e){var i=this,r=this.props.allProps,s=this.shareArr.length,o=this.getShareSvg(t);return n.a.createElement("button",{className:"block-fullscreen has-custom-focus network-"+(e+1)+(P()||k()?"":" inactive "),style:{top:this.props.isVerticalContainer?"calc(100% / 6 * "+(e+1)+" + -10px "+(4===s?"+ 100% / 12":"")+")":"",left:this.props.isVerticalContainer?"":"calc(100% / 6 * "+(e+1)+" + -10px "+(4===s?"+ 100% / 12":"")+")"},onClick:function(e){e.preventDefault(),e.stopPropagation();var s={network:t,shareProps:r};i.props.actions.eventsListener($.SHARE_BUTTON_CLICKED,s)},"data-hook":t+"-share-button",ref:function(t){return i.buttons[e]=t},title:"Share on "+t,"aria-live":"assertive",tabIndex:-1,key:t+"-share-icon"},n.a.createElement(o,{size:"18"}))},s.render=function(){var t=this,e=this.props,i=e.styleParams,r=e.id,s=e.isVerticalContainer,o=e.actions,a=e.style,l=e.type;if(i.allowSocial){return n.a.createElement("div",{"data-hook":"social-share-box",className:"block-fullscreen gallery-item-social-share-box "+(this.props.showShare?" opened ":" hidden ")+(this.state.showShare?" hovered ":"")+(s?" vertical-item ":""),ref:function(e){return t.socialShareBox=e},onClick:function(t){return o.toggleShare(t,!1)},onMouseOut:function(t){return o.toggleShare(t,!1)},style:{transform:s?"translateY(-50%) "+(a.height>200?"":"scale("+a.height/200+")"):"translateX(-50%) "+(a.width>200?"":"scale("+a.width/200+")")},tabIndex:i.isSlideshow&&this.props.currentIdx===this.props.idx?0:-1,onKeyDown:function(e){return t.handleKeyDown(e,l)},"aria-label":"Share",role:"button",key:"item-social-share-container-"+r},this.shareArr.map((function(e,i){return t.getShareItem(e,i)})))}return!1},r}(H),be={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"},we=new(function(){function t(){this.pgScrollSteps=[40960,20480,10240,5120,2560,1280,640,320,160,80,40,20,10],this.pgScrollClassName="pgscl",this.screenSize=Math.max(S.screen.width,S.screen.height),this.scrollCss=[],this.scrollCssProps=[],this.calcScrollPaddings(!1)}var e=t.prototype;return e.calcScrollPaddings=function(t){var e=this;void 0===t&&(t=!0),this.allPagePadding=function(){return[1/0,1/0]},this.inScreenPadding=function(){return[0,0]},this.aboveScreenPadding=function(){return[0,1/0]},this.justBelowScreenPadding=function(t){return[1/0,-1*(t+e.screenSize)]},this.justBelowAndAboveScreenPadding=function(){return[2560,1/0]},this.justBelowAndInScreenPadding=function(){return[5120,0]},this.belowScreenPadding=function(){return[1/0,0]},this.highResPadding=function(){return t?[5120,1/0]:[0,0]},this.lowResPadding=function(){return t?[10240,1/0]:[0,0]}},e.getDomId=function(t){var e=t.id,i=t.idx;return"pgi"+String(e).replace(/[\W]+/g,"")+"_"+i},e.buildScrollClassName=function(t,e,i){var r=String(t).replace(/[\W]+/g,"").slice(-8);return this.pgScrollClassName+"_"+r+"_"+i+"-"+(this.pgScrollSteps[e]+Number(i))},e.calcScrollClasses=function(t,e){var i=this;return this.pgScrollClassName+"-"+e+" "+this.pgScrollSteps.map((function(r,s){return i.buildScrollClassName(t,s,Math.floor(e/r)*r)})).join(" ")},e.calcScrollCss=function(t){var e=this,i=t.galleryDomId,r=t.items,s=t.styleParams,n=t.allowPreloading,o=t.isUnknownWidth;if(!r||!r.length)return[];this.screenSize=s.oneRow?Math.min(S.outerWidth,S.screen.width):Math.min(S.outerHeight,S.screen.height),!s.oneRow&&M.isMobile()&&(this.screenSize+=50),this.calcScrollPaddings(n);var a=r.slice(-1)[0].offset,l=a.top,h=a.right,c=this.pgScrollSteps[0];return this.minHeight=0-c,this.maxHeight=(Math.ceil(((s.oneRow?h:l)+this.screenSize)/c)+1)*c,r.map((function(t){return e.calcScrollCssForItem({galleryDomId:i,item:t,styleParams:s,isUnknownWidth:o})}))},e.shouldCalcScrollCss=function(t){var e=t.type;return"video"!==e&&"text"!==e},e.createScrollSelectorsFunction=function(t){var e=this,i=t.galleryDomId,r=t.item,s=t.styleParams,n=s.oneRow?r.offset.left-this.screenSize:r.offset.top-this.screenSize,o=s.oneRow?r.offset.left+r.width:r.offset.top+r.height,a=this.pgScrollSteps[this.pgScrollSteps.length-1],l=this.getDomId(r);return function(t,r){var s=t[0],h=t[1];if(s===1/0&&h===1/0)return"#pro-gallery-"+i+" #"+l+" "+r;for(var c,u,p=(c=n-s,u=a,Math.floor(Math.max(e.minHeight,c)/u)*u),d=function(t,i){return Math.ceil(Math.min(e.maxHeight,t)/i)*i}(o+h,a),m=[];p<d;){var g=e.pgScrollSteps.findIndex((function(t){return p%t==0&&p+t<=d}));if(-1===g){console.error("largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\nfrom =",p,"\nto =",d,"\npadding[0] =",t[0],"\npadding[1] =",t[1]);break}m.push("."+e.buildScrollClassName(i,g,p)+" ~ div #"+l+" "+r),p+=e.pgScrollSteps[g]}return m.join(", ")}},e.calcScrollCssForItem=function(t){var e=t.galleryDomId,i=t.item,r=t.styleParams,s=t.isUnknownWidth,n=i.type,o=i.createUrl,a=i.idx,l="",h=this.createScrollSelectorsFunction({galleryDomId:e,item:i,styleParams:r});return"text"!==n&&(s||i.isDimensionless||(l+=h(this.highResPadding(),"."+n+"-item>canvas")+"{opacity: 1; transition: opacity 1s linear; background-image: url("+o(B,K.HIGH_RES)+")}"),M.deviceHasMemoryIssues()||r.imageLoadingMode===z.COLOR||i.isTransparent&&!s||i.isDimensionless||(l+=h(this.lowResPadding(),".image-item")+"{background-image: url("+o(B,K.LOW_RES)+")}")),l+=this.createScrollAnimationsIfNeeded({idx:a,item:i,styleParams:r,createScrollSelectors:h}),this.scrollCss[a]=l||this.scrollCss[a],this.scrollCss[a]},e.createScrollAnimationsIfNeeded=function(t){var e=t.idx,i=t.styleParams,r=t.createScrollSelectors,s=i.scrollAnimation;if(M.isSSR())return"";if(!s||s===be.NO_EFFECT)return"";var n=100*(e%3+1),o=this.allPagePadding(),a=this.aboveScreenPadding(),l="";if(s===be.MAIN_COLOR&&(l+=r(o," .image-item")+"{background-size: 1px; background-repeat: repeat;}",l+=r(o," canvas")+"{filter: opacity(0); transition: filter 1."+n+"s ease-in !important;}",l+=r(a," canvas")+"{filter: opacity(1) !important;}"),s===be.BLUR&&(l+=r(o," canvas")+"{filter: opacity(0); transition: filter 1."+n+"s ease-in !important;}",l+=r(a," canvas")+"{filter: opacity(1) !important;}"),s===be.FADE_IN&&(l+=r(o," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 1."+n+"s ease-in !important;}",l+=r(a," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"),s===be.GRAYSCALE&&(l+=r(o," .gallery-item-wrapper")+"{filter: grayscale(100%); transition: filter 1."+(200+n)+"s ease-in !important;}",l+=r(a," .gallery-item-wrapper")+"{filter: grayscale(0) !important;}"),s===be.SLIDE_UP&&(l+=r(o,"")+"{transform: translateY(100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}",l+=r(a,"")+"{transform: translateY(0) !important;}"),s===be.EXPAND&&(l+=r(o,"")+"{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) !important;}",l+=r(a,"")+"{transform: scale(1) !important;}"),s===be.SHRINK&&(l+=r(o,"")+"{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) !important;}",l+=r(a,"")+"{transform: scale(1) !important;}"),s===be.ZOOM_OUT&&(l+=r(o," .gallery-item-wrapper")+"{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) !important;}",l+=r(a," .gallery-item-wrapper")+"{transform: scale(1) !important;}"),s===be.ONE_COLOR){var h=i.oneColorAnimationColor&&i.oneColorAnimationColor.value?i.oneColorAnimationColor.value:"transparent";l+=r(o,"")+"{background-color: "+h+";}",l+=r(o," .gallery-item-wrapper")+"{filter: opacity(0); transition: filter 0."+(600+n)+"s ease-in !important;}",l+=r(a," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"}return l},t}()),Ie={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT"},Se={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED"};function Oe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function xe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Oe(i,!0).forEach((function(e){Pe(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Oe(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Pe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ee(t){return xe({},(t.imageInfoType===kt.ATTACHED_BACKGROUND||t.titlePlacement===Ct.SHOW_ON_HOVER)&&xe({},Ce(t.itemBorderRadius,t.itemBorderWidth,t.itemBorderColor),{},function(t){var e={};if(t.itemEnableShadow){var i=t.itemShadowBlur,r=t.itemShadowDirection,s=t.itemShadowSize,n=-1*(Number(r)-90)/360*2*Math.PI,o=Math.round(s*Math.cos(n)),a=Math.round(-1*s*Math.sin(n));e={boxShadow:o+"px "+a+"px "+i+"px "+t.itemShadowOpacityAndColor.value}}return e}(t)))}function Ce(t,e,i){return xe({overflow:"hidden",borderRadius:t,borderWidth:e+"px",borderColor:i&&i.value},e&&{borderStyle:"solid"})}function ke(t){return t.imageInfoType===kt.SEPARATED_BACKGROUND?xe({},Ce(t.textBoxBorderRadius,t.textBoxBorderWidth,t.textBoxBorderColor),{},t.titlePlacement===Ct.SHOW_ABOVE&&{marginBottom:t.textImageSpace},{},t.titlePlacement===Ct.SHOW_BELOW&&{marginTop:t.textImageSpace}):{}}function De(t){return t.imageInfoType===kt.SEPARATED_BACKGROUND||t.imageInfoType===kt.ATTACHED_BACKGROUND?t.textsHorizontalPadding+30:t.textsHorizontalPadding}function Te(t){return xe({height:t.textBoxHeight},(t.imageInfoType===kt.SEPARATED_BACKGROUND||t.imageInfoType===kt.ATTACHED_BACKGROUND)&&t.textBoxFillColor&&t.textBoxFillColor.value&&{backgroundColor:t.textBoxFillColor.value},{textAlign:t.galleryTextAlign},(t.titlePlacement===Ct.SHOW_BELOW||t.titlePlacement===Ct.SHOW_ABOVE)&&{paddingBottom:t.textsVerticalPadding+15+"px",paddingTop:t.textsVerticalPadding+15+"px"},{paddingRight:De(t)+"px",paddingLeft:De(t)+"px",overflow:"hidden",boxSizing:"border-box"})}function Le(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function _e(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Le(i,!0).forEach((function(e){Ae(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Le(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Me(){return(Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ae(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ne=function(t){var e,i;function r(e){var i;return Ae(Re(i=t.call(this,e)||this),"shouldUseDirectLink",(function(){var t=i.props.directLink||{},e=t.url,r=t.target,s=!(!e||!r||"link"!==i.props.styleParams.itemClick);return i.shouldShowHoverOnMobile()&&i.isClickOnCurrentHoveredItem()&&s?(i.props.actions.eventsListener($.HOVER_SET,-1),!0):!(!s||i.shouldShowHoverOnMobile())})),Ae(Re(i),"isClickOnCurrentHoveredItem",(function(){return i.state.isCurrentHover})),i.props.actions.eventsListener($.ITEM_CREATED,i.props),i.init(),i.state={failed:!1,loaded:!1,displayed:!1,retries:0,showShare:!1,isCurrentHover:!1},i.activeElement="",i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.init=function(){var t=this;this.onItemClick=this.onItemClick.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.toggleFullscreenIfNeeded=this.toggleFullscreenIfNeeded.bind(this),this.handleItemMouseDown=this.handleItemMouseDown.bind(this),this.handleItemMouseUp=this.handleItemMouseUp.bind(this),this.setItemLoaded=this.setItemLoaded.bind(this),this.setItemError=this.setItemError.bind(this),this.isVerticalContainer=this.isVerticalContainer.bind(this),this.isHighlight=this.isHighlight.bind(this),this.toggleShare=this.toggleShare.bind(this),this.getShare=this.getShare.bind(this),this.getItemHover=this.getItemHover.bind(this),this.getImageItem=this.getImageItem.bind(this),this.getVideoItem=this.getVideoItem.bind(this),this.getVideoItemPlaceholder=this.getVideoItemPlaceholder.bind(this),this.getTextItem=this.getTextItem.bind(this),this.getItemInner=this.getItemInner.bind(this),this.getItemContainerStyles=this.getItemContainerStyles.bind(this),this.getItemWrapperStyles=this.getItemWrapperStyles.bind(this),this.getItemAriaLabel=this.getItemAriaLabel.bind(this),this.getItemContainerClass=this.getItemContainerClass.bind(this),this.getItemWrapperClass=this.getItemWrapperClass.bind(this),this.getItemContainerTabIndex=this.getItemContainerTabIndex.bind(this),this.isIconTag=this.isIconTag.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.changeActiveElementIfNeeded=this.changeActiveElementIfNeeded.bind(this),S.addEventListener("current_hover_change",(function(e){e.galleryId===t.props.galleryId&&(t.state.isCurrentHover||e.currentHoverIdx!==t.props.idx?t.state.isCurrentHover&&e.currentHoverIdx!==t.props.idx&&t.setState({isCurrentHover:!1}):t.setState({isCurrentHover:!0}))}))},s.setItemError=function(){this.setState({retries:this.state.retries+1,failed:this.state.retries>=3})},s.setItemLoaded=function(){var t=this;this.props.actions.eventsListener($.ITEM_LOADED,this.props),this.setState({failed:!1,loaded:!0}),setTimeout((function(){t.setState({displayed:!0})}),1500)},s.isIconTag=function(t){return["button","i","a","svg","path"].indexOf(t.toLowerCase())>=0},s.toggleShare=function(t,e){t.stopPropagation(),t.preventDefault(),"mouseout"===t.type&&(this.isIconTag(t.target.tagName)||t.relatedTarget&&this.isIconTag(t.relatedTarget.tagName))||this.setState({showShare:void 0===e?!this.state.showShare:!!e})},s.onMouseOver=function(){M.isMobile()||this.props.actions.eventsListener($.HOVER_SET,this.props.idx),this.onMouseOverEvent.itemIdx=this.props.idx,S.dispatchEvent(this.onMouseOverEvent)},s.onKeyPress=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.onItemClick(t),!1;default:return!0}},s.handleGalleryItemClick=function(){M.isFunction(M.get(S,"galleryWixCodeApi.onItemClicked"))&&S.galleryWixCodeApi.onItemClicked(this.props),this.props.actions.eventsListener($.ITEM_ACTION_TRIGGERED,this.props)},s.onItemClick=function(t){if(this.props.actions.eventsListener($.ITEM_CLICKED,this.props),this.shouldUseDirectLink())return function(){};t.preventDefault(),this.shouldShowHoverOnMobile()?this.handleHoverClickOnMobile():this.handleGalleryItemClick()},s.handleHoverClickOnMobile=function(){this.isClickOnCurrentHoveredItem()?(this.handleGalleryItemClick(),this.props.actions.eventsListener($.HOVER_SET,-1)):this.props.actions.eventsListener($.HOVER_SET,this.props.idx)},s.toggleFullscreenIfNeeded=function(t){var e=M.get(t,"target.className");"object"==typeof e&&(e=Object.values(e)),M.isFunction(e.indexOf)&&e.indexOf("block-fullscreen")>=0?console.warn("Blocked fullscreen!",t):this.props.styleParams.fullscreen&&this.props.actions.eventsListener($.ITEM_ACTION_TRIGGERED,this.props)},s.handleItemMouseDown=function(){return!0},s.handleItemMouseUp=function(){return M.isMobile()&&this.longPressTimer&&clearTimeout(this.longPressTimer),!0},s.isSmallItem=function(){if(this.props.styleParams.isSlideshow)return!1;var t;return t=this.props.styleParams.cubeImages&&"fit"===this.props.styleParams.cubeType?"landscape"===this.props.style.orientation?this.props.style.width/this.props.style.ratio<=90:this.props.style.height*this.props.style.ratio<=90:this.props.style.width<=90||this.props.style.height<=90,t},s.isNarrow=function(){return this.props.style.width<200},s.isShort=function(){return this.props.style.height<150},s.isVerticalContainer=function(){return this.props.style.width<this.props.style.height+1},s.shouldShowHoverOnMobile=function(){if(M.isMobile()){var t=this.props.styleParams,e=t.allowDescription,i=t.allowTitle,r=t.titlePlacement,s=t.itemClick,n=t.isSlideshow,o=t.alwaysShowHover,a=t.previewHover,l=Rt.supports.mobileSettings;if(n)return!1;if("nothing"===s&&"video"!==this.props.type)return!0;if((i||e)&&(r===Ct.SHOW_ON_HOVER||r===Ct.SHOW_NOT_ON_HOVER||r===Ct.SHOW_ALWAYS)&&l)return!0;if(o)return!0;if(E()&&a)return!0}return!1},s.isHighlight=function(){return this.props.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id},s.shouldHover=function(){var t=this.props.styleParams;return!t.isSlideshow&&(!0===t.alwaysShowHover||(!(!E()||!0!==t.previewHover)||!1!==t.allowHover&&(!M.isMobile()||this.shouldShowHoverOnMobile())))},s.getImageDimensions=function(){if(this.props.isUnknownWidth)return{};var t=this.props,e=t.styleParams,i=t.cubeRatio,r=t.style,s=r.ratio>=i,n=Math.round((r.height*r.ratio-r.width)/-2),o=Math.round((r.width/r.ratio-r.height)/-2),a=e.cubeImages&&"fit"===e.cubeType,l={};return a?a&&s?l={height:r.height-2*o,width:r.width,marginTop:o}:a&&!s&&(l={width:r.width-2*n,height:r.height,marginLeft:n}):l={width:r.width,height:r.height},l},s.getItemTextsDetails=function(){var t=M.pick(this.props,["title","description","id","styleParams","style","container"]),e="image"===this.props.type||"picture"===this.props.type,i=!0===this.props.styleParams.useCustomButton,r=(e||!this.props.styleParams.isStoreGallery)&&i;return n.a.createElement(Nt,Me({},t,{key:"item-texts-"+t.id,itemContainer:this.itemContainer,showShare:this.state.showShare,isSmallItem:this.isSmallItem(),isNarrow:this.isNarrow(),shouldShowButton:r,actions:{eventsListener:this.props.actions.eventsListener}}))},s.getSocial=function(){var t=M.pick(this.props,["html","hashtag","photoId","item","idx","currentIdx","id","styleParams","style","isDemo","type","createUrl","loveCount","isLoved"]);return n.a.createElement(te,Me({},t,{showShare:this.state.showShare,isSmallItem:this.isSmallItem(),isNarrow:this.isNarrow(),isShort:this.isShort(),isVerticalContainer:this.isVerticalContainer(),key:"item-social-"+t.id,actions:{openItemShopInFullScreen:this.openItemShopInFullScreen,toggleShare:this.toggleShare,getShare:this.getShare,eventsListener:this.props.actions.eventsListener}}))},s.getShare=function(){var t=M.pick(this.props,["styleParams","id","type","style","currentIdx","idx","actions"]);return n.a.createElement(ve,Me({},t,{allProps:this.props,key:"item-share-"+t.id,showShare:this.state.showShare,isVerticalContainer:this.isVerticalContainer(),actions:{toggleShare:this.toggleShare,eventsListener:this.props.actions.eventsListener}}))},s.getItemHover=function(t,e){var i=this.props,r=i.customHoverRenderer,s=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(i,["customHoverRenderer"]),o=this.shouldHover()||null;return o&&n.a.createElement(St,Me({},s,{forceShowHover:this.simulateOverlayHover(),shouldHover:o,imageDimensions:e,key:"hover",actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp},render:r}),t)},s.getImageItem=function(t){var e=M.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings"]);return n.a.createElement(X,Me({},e,{key:"imageItem",loaded:this.state.loaded,displayed:this.state.displayed,imageDimensions:t,isThumbnail:!!this.props.thumbnailHighlightId,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded,setItemError:this.setItemError}}))},s.getVideoItem=function(t,e){return n.a.createElement(ht,Me({},this.props,{playing:this.props.idx===this.props.playingVideoIdx,key:"video"+this.props.idx,hover:e,imageDimensions:t,loadingStatus:{failed:this.state.failed,loaded:this.state.loaded},actions:_e({},this.props.actions,{setItemLoaded:this.setItemLoaded,setItemError:this.setItemError,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp})}))},s.getVideoItemPlaceholder=function(t,e){var i=M.pick(this.props,["alt","title","description","id","idx","styleParams","createUrl","settings"]);return n.a.createElement(yt,Me({},i,{loadingStatus:{failed:this.state.failed,loaded:this.state.loaded},key:"videoPlaceholder",loaded:this.state.loaded,displayed:this.state.displayed,imageDimensions:t,isThumbnail:!!this.props.thumbnailHighlightId,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded,setItemError:this.setItemError},id:this.props.idx,hover:e}))},s.getTextItem=function(t){var e=M.pick(this.props,["id","styleParams","style","html","cubeRatio"]);return n.a.createElement(dt,Me({},e,{key:"textItem",imageDimensions:t,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))},s.getItemInner=function(){var t,e=this.props,i=e.styleParams,r=e.type,s=e.visible,o=this.getImageDimensions(),a=i.titlePlacement===Ct.SHOW_ON_HOVER||i.titlePlacement===Ct.SHOW_NOT_ON_HOVER||i.titlePlacement===Ct.SHOW_ALWAYS?this.getItemTextsDetails():null,l=this.getSocial(),h=this.getShare(),c=this.getItemHover([a,l,h],o);if(s)switch(r){case"dummy":t=n.a.createElement("div",null);break;case"video":t=this.props.idx===this.props.playingVideoIdx||this.props.idx===this.props.nextVideoIdx?this.getVideoItem(o,c):this.getVideoItemPlaceholder(o,c);break;case"text":t=[this.getTextItem(o),c];break;case"image":case"picture":default:t=[this.getImageItem(o),c]}else t=n.a.createElement("div",null);if(i.isSlideshow){a=this.getItemTextsDetails();var u={height:i.slideshowInfoSize+"px",bottom:"-"+i.slideshowInfoSize+"px"};t=n.a.createElement("div",null,t,n.a.createElement("div",{className:"gallery-item-info gallery-item-bottom-info","data-hook":"gallery-item-info-buttons",style:u},n.a.createElement("div",null,l,a)))}return t},s.openItemShopInFullScreen=function(t){t.preventDefault(),t.stopPropagation(),this.toggleFullscreenIfNeeded(t)},s.getBottomInfoElementIfNeeded=function(){var t=this.props.styleParams;return t.titlePlacement===Ct.SHOW_BELOW&&(t.allowTitle||t.allowDescription||t.useCustomButton)?this.getInfoElement("gallery-item-bottom-info"):null},s.getTopInfoElementIfNeeded=function(){var t=this.props.styleParams;return t.titlePlacement===Ct.SHOW_ABOVE&&(t.allowTitle||t.allowDescription||t.useCustomButton)?this.getInfoElement("gallery-item-top-info"):null},s.getInfoElement=function(t){var e=this,i=this.props.styleParams,r=null,s=this.props.customInfoRenderer,o=s?s(this.props):this.getItemTextsDetails();return o&&(r=n.a.createElement("div",{style:ke(i)},n.a.createElement("div",{style:Te(i),className:t,onMouseOver:function(){!M.isMobile()&&e.props.actions.eventsListener($.HOVER_SET,e.props.idx)},"aria-hidden":!0,onMouseOut:function(){!M.isMobile()&&e.props.actions.eventsListener($.HOVER_SET,-1)}},o))),r},s.simulateHover=function(){return this.state.isCurrentHover||!0===this.props.styleParams.alwaysShowHover||E()&&!0===this.props.styleParams.previewHover},s.simulateOverlayHover=function(){return this.simulateHover()||this.props.styleParams.titlePlacement===Ct.SHOW_ALWAYS},s.getItemContainerStyles=function(){var t=this.props.styleParams,e=Ee(t);return _e({},{overflowY:t.isSlideshow?"visible":"hidden",position:"absolute",bottom:"auto",margin:t.oneRow?t.imageMargin+"px":0},{},e)},s.getItemWrapperStyles=function(){var t=this.props,e=t.styleParams,i=t.style,r=t.type,s=i.height,n={};return n.backgroundColor="text"===r?"fit"!==e.cubeType?"transparent":"inherit":("fit"!==e.cubeType?i.bgColor:"inherit")||"transparent",n.height=s+"px",n.margin=-e.itemBorderWidth+"px",_e({},n,{},this.getImageDimensions())},s.getItemAriaLabel=function(){var t,e=this.props,i=e.type,r=e.alt,s=e.styleParams;switch(i){case"dummy":t="";break;case"text":t="Text item";break;case"video":t=r||"Untitled video";break;default:t=r||"Untitled image"}return t+(s.isStoreGallery?", Buy Now":"")},s.getItemContainerClass=function(){var t=this.props.styleParams,e=!t.isSlideshow,i=t.overlayAnimation,r=t.imageHoverAnimation,s={"gallery-item-container":!0,visible:!0,highlight:this.isHighlight(),clickable:"nothing"!==t.itemClick,"simulate-hover":this.simulateHover(),"hide-hover":!this.simulateHover()&&M.isMobile(),"invert-hover":t.titlePlacement===Ct.SHOW_NOT_ON_HOVER,"hover-animation-fade-in":e&&i===Ie.FADE_IN,"hover-animation-expand":e&&i===Ie.EXPAND,"hover-animation-slide-up":e&&i===Ie.SLIDE_UP,"hover-animation-slide-right":e&&i===Ie.SLIDE_RIGHT,"zoom-in-on-hover":e&&r===Se.ZOOM_IN,"blur-on-hover":e&&r===Se.BLUR,"grayscale-on-hover":e&&r===Se.GRAYSCALE,"shrink-on-hover":e&&r===Se.SHRINK,"invert-on-hover":e&&r===Se.INVERT,"color-in-on-hover":e&&r===Se.COLOR_IN,"darkened-on-hover":e&&r===Se.DARKENED,"pro-gallery-mobile-indicator":M.isMobile()};return Object.entries(s).map((function(t){var e=t[0];return!!t[1]&&e})).filter(Boolean).join(" ")},s.getItemWrapperClass=function(){var t=this.props,e=t.styleParams,i=t.type,r=["gallery-item-wrapper","visible"];return e.cubeImages&&r.push("cube-type-"+e.cubeType),"text"===i&&r.push("gallery-item-wrapper-text"),r.join(" ")},s.getItemContainerTabIndex=function(){return this.isHighlight()?M.getTabIndex("currentThumbnail"):this.props.currentIdx===this.props.idx?M.getTabIndex("currentGalleryItem"):-1},s.changeActiveElementIfNeeded=function(t){var e=this;try{if((P()||k())&&!M.isMobile()&&S.document&&S.document.activeElement&&S.document.activeElement.className){var i=S.document.activeElement;(String(i.className).indexOf("gallery-item-container")>=0&&S.document.querySelector("#pro-gallery-"+e.props.galleryDomId+" #"+String(i.id))||String(i.className).indexOf("show-more")>=0&&S.document.querySelector("#pro-gallery-"+e.props.galleryDomId+" #"+String(i.id)))&&(this.props.thumbnailHighlightId!==t.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id?this.itemContainer.focus():this.props.currentIdx!==t.currentIdx&&this.props.currentIdx===this.props.idx&&this.itemContainer.focus())}}catch(t){console.error("Could not set focus to active element",t)}},s.componentDidMount=function(){if(this.onMouseOverEvent=S.document.createEvent("CustomEvent"),this.onMouseOverEvent.initCustomEvent("on_mouse_over",!1,!1,null),M.isMobile())try{n.a.initializeTouchEvents(!0)}catch(t){}},s.componentDidUpdate=function(t){this.changeActiveElementIfNeeded(t)},s.onContextMenu=function(t){M.isDev()||t.preventDefault(t)},s.getItemAriaRole=function(){switch(this.props.styleParams.itemClick){case"expand":case"fullscreen":return"button";case"link":return"link";default:return""}},s.composeItem=function(){var t,e=this,i=this.props,r=i.photoId,s=i.id,o=i.hash,a=i.idx,l=this.props.directLink,h=this.props.styleParams.itemClick,c=l||{},u=c.url,p=c.target,d=k(),m=this.props.noFollowForSEO,g=!(!u||!p||"link"!==h)?_e({href:u,target:p},d&&m?{rel:"nofollow"}:{}):{};return n.a.createElement("a",Me({"data-id":r,"data-idx":a,key:"item-container-link-"+s},g),n.a.createElement("div",{className:this.getItemContainerClass(),onContextMenu:function(t){return e.onContextMenu(t)},id:we.getDomId(this.props),ref:function(t){return e.itemContainer=t},onMouseOver:this.onMouseOver,onMouseOut:function(){!M.isMobile()&&e.props.actions.eventsListener($.HOVER_SET,-1)},onClick:this.onItemClick,onKeyDown:this.onKeyPress,tabIndex:this.getItemContainerTabIndex(),"aria-label":this.getItemAriaLabel(),"data-hash":o,"data-id":r,"data-idx":a,role:this.getItemAriaRole(),"data-hook":"item-container",key:"item-container-"+s,style:this.getItemContainerStyles()},this.getTopInfoElementIfNeeded(),n.a.createElement("div",{style:this.props.styleParams.isSlideshow?{}:(t=this.props.styleParams,xe({},!(t.titlePlacement===Ct.SHOW_ON_HOVER)&&(t.imageInfoType===kt.NO_BACKGROUND||t.imageInfoType===kt.SEPARATED_BACKGROUND)&&xe({},Ce(t.itemBorderRadius,t.itemBorderWidth,t.itemBorderColor))))},n.a.createElement("div",{"data-hook":"item-wrapper",className:this.getItemWrapperClass(),key:"item-wrapper-"+s,style:this.getItemWrapperStyles()},this.getItemInner())),this.getBottomInfoElementIfNeeded()))},s.render=function(){return this.composeItem()},r}(H);function je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function He(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?je(i,!0).forEach((function(e){Ge(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):je(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ge(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Be=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).handleArrowKeys=i.handleArrowKeys.bind(ze(i)),i.showMoreItems=i.showMoreItems.bind(ze(i)),i.createGalleryConfig=i.createGalleryConfig.bind(ze(i)),i.screenLogs=i.screenLogs.bind(ze(i)),i.createGallery=i.createGallery.bind(ze(i)),i.id=Date.now()+"|"+Math.floor(1e4*Math.random()),i.state={currentIdx:0},i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.handleArrowKeys=function(t){var e=S.document.activeElement.getAttribute("data-idx");if(e){var i=this.props.actions.findNeighborItem||this.props.galleryStructure.findNeighborItem||function(){},r=Number(e),s=-1;switch(t.keyCode||t.charCode){case 38:s=i(r,"up");break;case 37:s=i(r,this.props.styleParams.isRTL?"right":"left");break;case 40:s=i(r,"down");break;case 39:s=i(r,this.props.styleParams.isRTL?"left":"right")}if(s>=0)return t.preventDefault(),t.stopPropagation(),M.setStateAndLog(this,"Set Gallery Current Item",{currentIdx:s}),!1}return!0},s.lastVisibleItemIdxInHeight=function(t){for(var e=this.props.galleryStructure.items.length-1;e>=0;e--){if(this.props.galleryStructure.items[e].offset.top<t)return e}return this.items.length-1},s.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.props.container.galleryHeight-100)},s.showMoreItems=function(){var t=this;if(this.props.styleParams.isAccessible)try{var e=this.lastVisibleItemIdx();M.setStateAndLog(this,"Focus on Last Gallery Item",{currentIdx:e+1},(function(){t.props.actions.toggleLoadMoreItems()}))}catch(t){console.warn("Cannot find item to focus",t)}else this.props.actions.toggleLoadMoreItems()},s.createGallery=function(t){var e,i=this,r=this.props.itemsLoveData,s=this.createGalleryConfig(),o=n.a.createElement(G,this.props.debug);e=t?this.props.container.galleryHeight-138:this.props.galleryStructure.height+"px";var a=this.props.galleryStructure.galleryItems.map((function(t,e){return n.a.createElement(Ne,t.renderProps(He({},s,{},r[t.id],{visible:t.isVisible,key:"itemView-"+t.id+"-"+e,isUnknownWidth:i.props.isUnknownWidth})))}));return n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles "+(this.props.styleParams.oneRow?" one-row slider hide-scrollbars ":"")+(this.props.styleParams.isAccessible?" accessible ":"")+(this.props.styleParams.isRTL?" rtl ":""),style:{height:e,overflowX:"hidden"},onKeyDown:this.handleArrowKeys},n.a.createElement("div",{id:"pro-gallery-margin-container",style:{margin:this.props.styleParams.galleryMargin+"px",height:e,width:this.props.isUnknownWidth?"100%":this.props.container.galleryWidth,overflow:"visible",position:"relative"}},o,a))},s.createGalleryConfig=function(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,styleParams:this.props.styleParams,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,galleryDomId:this.props.domId,galleryId:this.props.galleryId,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,actions:{eventsListener:this.props.actions.eventsListener}}},s.screenLogs=function(){return M.shouldDebug("screenLogs")?n.a.createElement("div",{className:"screen-logs"},"URL width: ",M.parseGetParam("width"),", Container:"," ",JSON.stringify(this.props.container.galleryWidth),", window.document.body.clientWidth ",document.body.clientWidth,", window.innerWidth ",S.innerWidth,", window.screen.width:"," ",S.screen.width):""},s.returnButtonStyle=function(t){var e={};return M.isMobile()&&(void 0!==t.loadMoreButtonFont&&(e.font=t.loadMoreButtonFont.value,e.textDecoration=t.textDecorationLoadMore),void 0!==t.loadMoreButtonFontColor&&(e.color=t.loadMoreButtonFontColor.value,e.textDecorationColor=t.loadMoreButtonFontColor.value),void 0!==t.loadMoreButtonColor&&(e.background=t.loadMoreButtonColor.value),void 0!==t.loadMoreButtonBorderColor&&(e.borderColor=t.loadMoreButtonBorderColor.value),void 0!==t.loadMoreButtonBorderRadius&&(e.borderRadius=t.loadMoreButtonBorderRadius),void 0!==t.loadMoreButtonBorderWidth&&(e.borderWidth=t.loadMoreButtonBorderWidth)),e},s.createShowMoreButton=function(){var t=this.props.styleParams,e=!1,i=this.props.displayShowMore&&this.props.galleryStructure.height>this.props.container.height,r=this.returnButtonStyle(t);if(i){var s=t.loadMoreButtonText||"Load More";e=n.a.createElement("div",{className:"show-more-container"+(M.isMobile()?" pro-gallery-mobile-indicator":"")},n.a.createElement("button",{tabIndex:M.getTabIndex("loadMoreButton"),id:"show-more-"+this.props.galleryDomId,className:"show-more",onClick:this.showMoreItems,"data-hook":"show-more","aria-label":s,style:r},s))}return e},s.getStyles=function(){var t=-1*(this.props.styleParams.imageMargin-this.props.styleParams.galleryMargin);return{margin:t+"px "+t+"px 0 "+t+"px"}},s.render=function(){M.isVerbose()&&(console.count("galleryView render"),console.time("Rendering Gallery took "),console.log("[DEBUG_RENDER] GalleryView styleParams",this.props.styleParams),console.log("[DEBUG_RENDER] GalleryView props changed",M.printableObjectsDiff(this.lastProps||{},this.props)),this.lastProps=He({},this.props),console.log("[DEBUG_RENDER] GalleryView state changed",M.printableObjectsDiff(this.lastState||{},this.state)),this.lastState=He({},this.state),this.renderCount=(this.renderCount||0)+1);var t=this.createShowMoreButton(),e=this.createGallery(t);M.isVerbose()&&console.timeEnd("Rendering Gallery took ");var i=this.screenLogs();return n.a.createElement("div",{className:"pro-gallery-parent-container",key:"pro-gallery-"+this.id,role:"region","aria-label":"Gallery. you can navigate the gallery with keyboard arrow keys."},i,e,t)},r}(H);function We(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Ve(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?We(i,!0).forEach((function(e){Ue(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):We(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ue(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Fe=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).displayName="GroupView",i.dom=[],i.state={},i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.createDom=function(t){var e=this;return this.props.items.map((function(i){return n.a.createElement(Ne,Ve({},i.renderProps(Ve({},e.props.galleryConfig,{visible:t})),{},e.props.itemsLoveData[i.id]))}))},s.shouldRender=function(){var t=this.props.items;return!(!t||!t.length)},s.isVisible=function(){var t=this.props,e=t.items,i=t.galleryConfig;if(this.props.allowLoop){var r=e[e.length-1].idx,s=i.currentIdx,n=i.totalItemsCount,o=s-r,a=Math.floor(n/2);return Math.abs(o)<=a}return!0},s.render=function(){return this.shouldRender()?n.a.createElement("div",{key:"group_"+this.props.idx+"_"+this.props.items[0].id,"data-hook":"group-view"},this.createDom(this.isVisible())):null},r}(H);function Ke(){return(Ke=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var qe=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",Ke({viewBox:"0 0 11 14",fill:"currentColor",width:e||"11",height:e||"14"},i),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Pause",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{id:"play",d:"M0.0788076641 0L0 14 10.5 6.81856071z"}))))))};qe.displayName="play";var Ye=qe;function Ze(){return(Ze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var Je=function(t){var e=t.size,i=function(t,e){if(null==t)return{};var i,r,s={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(s[i]=t[i]);return s}(t,["size"]);return n.a.createElement("svg",Ze({viewBox:"0 0 10 14",fill:"currentColor",width:e||"10",height:e||"14"},i),n.a.createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},n.a.createElement("g",{id:"Play",transform:"translate(-490 -763)",fill:"currentColor"},n.a.createElement("g",{id:"Group-2",transform:"translate(470 284)"},n.a.createElement("g",{id:"Group",transform:"translate(20 479)"},n.a.createElement("path",{d:"M7,0 L10,0 L10,14 L7,14 L7,0 Z M0,0 L3,0 L3,14 L0,14 L0,0 Z",id:"_copy_3"}))))))};Je.displayName="pause";var Xe=Je;function $e(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Qe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$e(i,!0).forEach((function(e){ei(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$e(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ti(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ei(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ii=function(t){var e,i;function r(e){var i;return ei(ti(i=t.call(this,e)||this),"autoScrollToNextItem",(function(){var t,e,r,s;t=i.props.container,e=!!(t&&Number.isInteger(t.scrollBase)&&Number.isInteger(t.galleryHeight)&&S&&S.document&&S.document.documentElement&&(Number.isInteger(S.document.documentElement.scrollTop)||S.document.scrollingElement&&Number.isInteger(S.document.scrollingElement.scrollTop))&&Number.isInteger(S.document.documentElement.offsetHeight)),r=e&&t.scrollBase+t.galleryHeight>S.document.documentElement.scrollTop,s=e&&t.scrollBase<(S.document.documentElement.scrollTop||S.document.scrollingElement.scrollTop)+S.document.documentElement.offsetHeight,(r&&s||!e)&&i._nextItem(1,!0,800)})),i.scrollToThumbnail=i.scrollToThumbnail.bind(ti(i)),i.stopAutoSlideshow=i.stopAutoSlideshow.bind(ti(i)),i.onAutoSlideShowButtonClick=i.onAutoSlideShowButtonClick.bind(ti(i)),i.startAutoSlideshowIfNeeded=i.startAutoSlideshowIfNeeded.bind(ti(i)),i.handleSlideshowKeyPress=i.handleSlideshowKeyPress.bind(ti(i)),i.onAutoSlideshowAutoPlayKeyPress=i.onAutoSlideshowAutoPlayKeyPress.bind(ti(i)),i.setCurrentItemByScroll=i.setCurrentItemByScroll.bind(ti(i)),i._setCurrentItemByScroll=M.throttle(i.setCurrentItemByScroll,600).bind(ti(i)),i._nextItem=M.throttle(i.nextItem.bind(ti(i)),400).bind(ti(i)),i.state={currentIdx:0,isInView:!0,shouldStopAutoSlideShow:!1},i.lastCurrentItem=void 0,i.shouldCreateSlideShowPlayButton=!1,i.shouldCreateSlideShowNumbers=!1,i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.isFirstItem=function(){return 0===this.state.currentIdx},s.isScrollStart=function(t){if(void 0===t&&(t=this.props.styleParams.isRTL),this.container){var e=this.container,i=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return t?i+s>=r-1:i<=1}return!1},s.isLastItem=function(){return!this.props.styleParams.slideshowLoop&&this.state.currentIdx>=this.props.galleryStructure.items.length-1},s.isScrollEnd=function(){var t=this.props.styleParams,e=t.isRTL;return!t.slideshowLoop&&this.isScrollStart(!e)},s.createNewItemsForSlideshowLoopThumbnails=function(){var t=this.props.items,e=[],i=Math.ceil(this.props.container.galleryWidth/this.props.styleParams.thumbnailSize);Object.keys(t).forEach((function(r){var s,n=Number(r);e[s=n+i]=Qe({},t[r]),n>t.length-i-1&&(s=n-t.length+i,e[s]=Qe({},t[r])),n<i&&(s=n+i+t.length,e[s]=Qe({},t[r]))})),e.forEach((function(t,e){t.loopIndex=e})),this.ItemsForSlideshowLoopThumbnails=e,this.numOfThumbnails=i},s.nextItem=function(t,e,i){var r=this;if(void 0===i&&(i=400),!this.isSliding){this.isSliding=!0,t*=this.props.styleParams.isRTL?-1:1;var s=(this.setCurrentItemByScroll()||this.state.currentIdx)+t,n=this.props.actions.scrollToItem;if(this.isAutoScrolling=!0,e)this.isLastItem()&&(s=0,i=0);else if(this.startAutoSlideshowIfNeeded(this.props.styleParams),1===t&&this.isLastItem()||-1===t&&this.isFirstItem())return void(this.isSliding=!1);try{n(s,!1,!0,i).then((function(){M.setStateAndLog(r,"Next Item",{currentIdx:s},(function(){r.onCurrentItemChanged(),r.isSliding=!1}))}))}catch(t){return console.error("Cannot proceed to the next Item",t),void this.stopAutoSlideshow()}}},s.onCurrentItemChanged=function(){this.lastCurrentItem!==this.state.currentIdx&&(this.lastCurrentItem=this.state.currentIdx,this.props.actions.eventsListener($.CURRENT_ITEM_CHANGED,this.props.items[this.state.currentIdx]))},s.stopAutoSlideshow=function(){clearInterval(this.autoSlideshowInterval)},s.startAutoSlideshowIfNeeded=function(t){var e=t.isAutoSlideshow,i=t.autoSlideshowInterval,r=t.oneRow;this.stopAutoSlideshow(),r&&e&&i>0&&this.state.isInView&&!this.state.shouldStopAutoSlideShow&&(this.autoSlideshowInterval=setInterval(this.autoScrollToNextItem.bind(this),1e3*i))},s.scrollToThumbnail=function(t,e){var i=this;void 0===e&&(e=400),this.props.actions.eventsListener($.THUMBNAIL_CLICKED,this.props),this.isAutoScrolling=!0,this.startAutoSlideshowIfNeeded(this.props.styleParams),M.setStateAndLog(this,"Scroll to Item",{currentIdx:t},(function(){i.onCurrentItemChanged()})),this.props.actions.scrollToItem(t,!1,!0,e)},s.handleSlideshowKeyPress=function(t){switch(t.charCode||t.keyCode){case 38:case 37:case 33:return t.preventDefault(),this._nextItem(-1),!1;case 39:case 40:case 32:case 34:return t.preventDefault(),this._nextItem(1),!1}return!0},s.createThumbnails=function(t){var e=this,i=this.props.items,r=this.state.currentIdx;this.props.styleParams.slideshowLoop&&(this.ItemsForSlideshowLoopThumbnails||this.createNewItemsForSlideshowLoopThumbnails(),r+=this.numOfThumbnails,i=this.ItemsForSlideshowLoopThumbnails),M.isVerbose()&&console.log("creating thumbnails for idx",r);var s,o,a,l=this.props.styleParams.thumbnailSize,h=this.props.styleParams.thumbnailSize;switch(t){case"top":case"bottom":l=this.props.container.galleryWidth+this.props.styleParams.thumbnailSpacings,h=this.props.styleParams.thumbnailSize+this.props.styleParams.thumbnailSpacings,s=!0,o=Math.ceil(l/this.props.styleParams.thumbnailSize),a=Math.floor((l+this.props.styleParams.thumbnailSpacings)/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings));break;case"left":case"right":h=this.props.container.galleryHeight+2*this.props.styleParams.thumbnailSpacings,l=this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings,s=!1,o=Math.ceil(h/this.props.styleParams.thumbnailSize),a=Math.floor(h/(this.props.styleParams.thumbnailSize+2*this.props.styleParams.thumbnailSpacings))}this.firstItemIdx=r-Math.floor(o/2)-1,this.lastItemIdx=this.firstItemIdx+o,this.firstItemIdx<0&&(this.lastItemIdx-=this.firstItemIdx,this.firstItemIdx=0),this.lastItemIdx>i.length-1&&(this.firstItemIdx-=this.lastItemIdx-(i.length-1),this.firstItemIdx<0&&(this.firstItemIdx=0),this.lastItemIdx=i.length-1),(o=this.lastItemIdx-this.firstItemIdx+1)%2==0&&i.length>o&&this.lastItemIdx<i.length-1&&(o+=1,this.lastItemIdx+=1);var c,u=o*this.props.styleParams.thumbnailSize+(2*(o-1)+1)*this.props.styleParams.thumbnailSpacings,p={width:l,height:h};if(i.length<=a||r<o/2-1)switch(t){case"top":case"bottom":p.width=u+"px",p.left=0;break;case"left":case"right":p.height=u+"px",p.marginTop=0}else if(r>o/2-1&&r<i.length-o/2)switch(t){case"top":case"bottom":p.width=u+"px",p.left=(l-u)/2+"px";break;case"left":case"right":p.height=u+"px",p.marginTop=(h-u)/2+"px"}else if(r>=i.length-o/2)switch(t){case"top":case"bottom":p.left=l-u+"px",p.overflow="visible";break;case"left":case"right":p.top=h-u+"px",p.overflow="visible"}this.props.styleParams.isRTL&&(p.right=p.left,delete p.left);var d=this.props.styleParams.thumbnailSpacings;switch(this.props.styleParams.galleryThumbnailsAlignment){case"bottom":c=d+"px -"+d+"px 0 -"+d+"px";break;case"left":c="-"+d+"px "+d+"px -"+d+"px 0";break;case"top":c="0 -"+d+"px "+d+"px -"+d+"px";break;case"right":c="-"+d+"px 0 -"+d+"px "+d+"px"}var m,g=Math.floor(o/2);m=this.props.styleParams.slideshowLoop?i.slice(this.firstItemIdx,this.lastItemIdx+1):this.props.galleryStructure.galleryItems.slice(this.firstItemIdx,this.lastItemIdx+1);var f=this.props.styleParams.thumbnailSize;return n.a.createElement("div",{className:"pro-gallery inline-styles thumbnails-gallery "+(s?" one-row hide-scrollbars ":"")+(this.props.styleParams.isRTL?" rtl ":"")+(this.props.styleParams.isAccessible?" accessible ":""),style:{width:l,height:h,margin:c},"data-hook":"gallery-thumbnails"},n.a.createElement("div",{"data-hook":"gallery-thumbnails-column",className:"galleryColumn",key:"thumbnails-column",style:Object.assign(p,{width:l,height:h})},m.map((function(t,i){var o,a,l=e.props.styleParams.slideshowLoop?(a=t.itemId||t.photoId,e.props.galleryStructure.galleryItems.find((function(t){return t.id===a}))):t,h=e.props.styleParams.slideshowLoop?i===g:l.idx===r,c={width:f,height:f,margin:d,backgroundImage:"url("+l.createUrl(W,K.HIGH_RES)+")"},u=s?((o={})[e.props.styleParams.isRTL?"right":"left"]=f*i+2*i*d,o):{top:f*i+2*i*d};return Object.assign(c,u),n.a.createElement("div",{key:"thumbnail-"+l.id+(Number.isInteger(t.loopIndex)?"-"+t.loopIndex:""),className:"thumbnailItem"+(h?" pro-gallery-thumbnails-highlighted gallery-item-container highlight"+(M.isMobile()?" pro-gallery-mobile-indicator":""):""),"data-key":l.id,style:c,onContextMenu:function(t){return e.onContextMenu(t)},onClick:function(){return e.scrollToThumbnail(l.idx)}})}))))},s.onContextMenu=function(t){M.isDev()||t.preventDefault(t)},s.setCurrentItemByScroll=function(){var t=this;if(M.isVerbose()&&console.log("Setting current Idx by scroll",this.isAutoScrolling),this.isAutoScrolling)this.isAutoScrolling=!1;else{if(!("true"===(this.container&&this.container.getAttribute("data-scrolling")))){this.startAutoSlideshowIfNeeded(this.props.styleParams);var e,i=this.container&&this.container.scrollLeft||0,r=this.props.galleryStructure.galleryItems,s=this.props.styleParams.isRTL?this.props.galleryStructure.width-i-this.props.container.galleryWidth/2:i+this.props.container.galleryWidth/2;if(0===s)e=0;else for(var n,o=0;n=r[o];o++)if(n.offset.left>s){e=o-1;break}return e>=0||(e=r.length-1),M.isUndefined(e)||M.setStateAndLog(this,"Set Current Item",{currentIdx:e},(function(){t.onCurrentItemChanged()})),e}this.stopAutoSlideshow()}},s.createDebugMsg=function(){return n.a.createElement(G,this.props.debug)},s.createNavArrows=function(){var t=this,e=this.props.styleParams,i=e.isRTL,r=e.oneRow,s=e.arrowsColor,o=e.isSlideshow,a=e.slideshowInfoSize,l=e.imageMargin,h=e.arrowsSize,c=e.arrowsPosition;if(this.props.galleryStructure.columns.some((function(e){var i=(e.groups.filter((function(t){return t.rendered}))||[]).reduce((function(t,e){return t+Math.max(0,e.width)}),0);return r&&t.props.container.galleryWidth>=i})))return null;var u=this.props.styleParams.arrowsSize,p={transform:"scale("+u/23+")"},d={};M.isMobile()&&void 0!==s&&(d.fill=s.value);var m=(100-u)/2,g={padding:"0 "+m+"px 0 "+m+"px",top:"calc(50% - 50px + "+l/2+"px - "+(o?a:0)/2+"px)"},f=r&&c?"-"+(h+50+10)+"px":l+"px",y={left:f},v={right:f},b=!i&&this.isScrollStart()||i&&this.isScrollEnd(),w=i&&this.isScrollStart()||!i&&this.isScrollEnd();return[b?null:n.a.createElement("button",{className:"nav-arrows-container prev "+(M.isMobile()?"pro-gallery-mobile-indicator ":""),onClick:function(){return t._nextItem(-1)},"aria-label":(i?"Next":"Previous")+" Item",tabIndex:M.getTabIndex("slideshowPrev"),key:"nav-arrow-back","data-hook":"nav-arrow-back",style:Qe({},g,{},y)},n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:p},n.a.createElement("path",{className:"slideshow-arrow",style:d,d:"M154.994,259.522L153.477,261l-18.471-18,18.473-18,1.519,1.48L138.044,243Z",transform:"translate(-133 -225)"}))),w?null:n.a.createElement("button",{className:"nav-arrows-container next",onClick:function(){return t._nextItem(1)},"aria-label":(i?"Previous":"Next")+" Item",tabIndex:M.getTabIndex("slideshowNext"),key:"nav-arrow-next","data-hook":"nav-arrow-next",style:Qe({},g,{},v)},n.a.createElement("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:p},n.a.createElement("path",{className:"slideshow-arrow",style:d,d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})))]},s.createLayout=function(){var t=this,e=this.props.itemsLoveData,i={scrollingElement:this.props.scrollingElement,totalItemsCount:this.props.totalItemsCount,scroll:this.props.scroll,styleParams:this.props.styleParams,container:this.props.container,watermark:this.props.watermark,settings:this.props.settings,currentIdx:this.state.currentIdx,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,noFollowForSEO:this.props.noFollowForSEO,galleryDomId:this.props.domId,galleryId:this.props.galleryId,playingVideoIdx:this.props.playingVideoIdx,nextVideoIdx:this.props.nextVideoIdx,totalWidth:this.props.galleryStructure.width,actions:{eventsListener:this.props.actions.eventsListener}};return this.props.galleryStructure.columns.map((function(r,s){var o={width:r.width,height:t.props.container.galleryHeight};return t.props.styleParams.isSlideshow&&Object.assign(o,{paddingBottom:t.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{"data-hook":"gallery-column",id:"gallery-horizontal-scroll",className:"gallery-horizontal-scroll gallery-column hide-scrollbars "+(t.props.styleParams.isRTL?" rtl ":"")+" "+(t.props.styleParams.scrollSnap?" scroll-snap ":"")+" ",key:"column"+s,style:o},n.a.createElement("div",{className:"gallery-horizontal-scroll-inner"},!!r.galleryGroups.length&&r.galleryGroups.map((function(r){return!!r.rendered&&n.a.createElement(Fe,Qe({allowLoop:t.props.styleParams.slideshowLoop&&t.props.galleryStructure.width>t.props.container.width,itemsLoveData:e},r.renderProps(i)))}))))}))},s.createGallery=function(){var t=this.props.styleParams.oneRow&&this.props.styleParams.arrowsPosition?{overflow:"visible",left:this.props.styleParams.arrowsSize+40+this.props.styleParams.imageMargin}:{},e=Qe({height:this.props.container.galleryHeight,width:this.props.container.galleryWidth},t);return this.props.styleParams.isSlideshow&&Object.assign(e,{paddingBottom:this.props.styleParams.slideshowInfoSize}),n.a.createElement("div",{id:"pro-gallery-container",className:"pro-gallery inline-styles one-row hide-scrollbars "+(this.props.styleParams.enableScroll?" slider ":"")+(this.props.styleParams.isAccessible?" accessible ":"")+(this.props.styleParams.isRTL?" rtl ":""),style:e},this.createDebugMsg(),this.createNavArrows(),this.createLayout(),this.createAutoSlideShowPlayButton(),this.createSlideShowNumbers())},s.onAutoSlideShowButtonClick=function(){var t=this,e=this.state.shouldStopAutoSlideShow;this.setState({shouldStopAutoSlideShow:!e},(function(){t.startAutoSlideshowIfNeeded(t.props.styleParams)}))},s.isFullWidthGallery=function(){return this.props.container.galleryWidth>=M.getWindowWidth()-10},s.onAutoSlideshowAutoPlayKeyPress=function(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.onAutoSlideShowButtonClick(),!1;default:return!0}},s.calcSlideshowCounterWidth=function(){var t=this.props.totalItemsCount;return t<10?26:t<100?43:t<1e3?60:76},s.createAutoSlideShowPlayButton=function(){var t=this;if(!this.shouldCreateSlideShowPlayButton)return!1;var e=this.props.styleParams,i=e.galleryTextAlign,r=e.slideshowInfoSize,s=this.props.styleParams.imageMargin+(this.isFullWidthGallery()?50:0),o="right"===i?{left:s+"px"}:{right:s+(this.shouldCreateSlideShowNumbers?this.calcSlideshowCounterWidth():0)+"px"};return n.a.createElement("button",{className:"auto-slideshow-button",onClick:function(){t.onAutoSlideShowButtonClick()},onKeyDown:this.onAutoSlideshowAutoPlayKeyPress,"data-hook":"auto-slideshow-button",title:"slideshow auto play","aria-pressed":this.state.shouldStopAutoSlideShow,tabIndex:0,style:Qe({top:"calc(100% - "+r+"px + 3px)"},o)},this.state.shouldStopAutoSlideShow?n.a.createElement(Ye,{width:"10px",height:"100%"}):n.a.createElement(Xe,{width:"10px",height:"100%"}))},s.createSlideShowNumbers=function(){if(!this.shouldCreateSlideShowNumbers)return!1;var t=this.props,e=t.totalItemsCount,i=t.styleParams,r=i.galleryTextAlign,s=i.slideshowInfoSize,o=this.props.styleParams.imageMargin+(this.isFullWidthGallery()?50:0),a=this.shouldCreateSlideShowPlayButton?o+25:o,l="right"===r?{left:a+"px"}:{right:o+"px"};return n.a.createElement("div",{className:"auto-slideshow-counter","data-hook":"auto-slideshow-counter",style:Qe({top:"calc(100% - "+s+"px + 3px)"},l)},n.a.createElement("div",null,this.state.currentIdx+1+"/"+e))},s.getThumbnails=function(){var t=this.props.styleParams.hasThumbnails,e=this.props.styleParams.galleryThumbnailsAlignment,i=!!t&&this.createThumbnails(e),r=[];switch(e){case"top":case"left":r[0]=i,r[1]=!1;break;case"right":case"bottom":r[0]=!1,r[1]=i}return r},s.getClassNames=function(){var t="";return this.props.styleParams.isSlideshow?t=" gallery-slideshow":this.props.styleParams.isSlider?t=" gallery-slider":this.props.styleParams.hasThumbnails?t=" gallery-thumbnails":this.props.styleParams.isColumns&&(t=" gallery-columns"),this.isFullWidthGallery()&&(t+=" streched"),t},s.getStyles=function(){return{margin:-1*(this.props.styleParams.imageMargin-this.props.styleParams.galleryMargin)}},s.componentWillReceiveProps=function(t){var e=this;t.items&&(this.ItemsForSlideshowLoopThumbnails=!1),this.props.isInDisplay!==t.isInDisplay&&this.setState({isInView:t.isInDisplay},(function(){return e.startAutoSlideshowIfNeeded(t.styleParams)})),(E()||C())&&(this.props.styleParams.isAutoSlideshow===t.styleParams.isAutoSlideshow&&this.props.styleParams.autoSlideshowInterval===t.styleParams.autoSlideshowInterval||this.startAutoSlideshowIfNeeded(t.styleParams));var i=5===t.styleParams.galleryLayout&&t.styleParams.isSlideshow&&t.styleParams.isAutoSlideshow;this.shouldCreateSlideShowPlayButton=i&&t.styleParams.playButtonForAutoSlideShow,this.shouldCreateSlideShowNumbers=i&&t.styleParams.allowSlideshowCounter},s.componentDidMount=function(){var t=this;S.addEventListener("gallery_navigation_out",(function(){M.setStateAndLog(t,"Next Item",{isInView:!1}),t.stopAutoSlideshow()})),S.addEventListener("gallery_navigation_in",(function(){M.setStateAndLog(t,"Next Item",{isInView:!0}),t.startAutoSlideshowIfNeeded(t.props.styleParams)})),this.container=S.document.querySelector("#pro-gallery-"+this.props.domId+" #gallery-horizontal-scroll"),this.container&&this.container.addEventListener("scroll",this._setCurrentItemByScroll),this.setCurrentItemByScroll(),this.startAutoSlideshowIfNeeded(this.props.styleParams)},s.componentWillUnmount=function(){this.container&&this.container.removeEventListener("scroll",this._setCurrentItemByScroll)},s.render=function(){M.isVerbose()&&(console.count("galleryView render"),console.count("Rendering Gallery count"),console.time("Rendering Gallery took "));var t=this.createGallery(),e=this.getThumbnails();return M.isVerbose()&&console.timeEnd("Rendering Gallery took "),n.a.createElement("div",{className:this.getClassNames(),style:this.getStyles(),onKeyDown:this.handleSlideshowKeyPress,role:"region","aria-label":"Gallery. you can navigate the gallery with keyboard arrow keys."},e[0],t,e[1])},r}(H),ri={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",NO_CHANGE:"NO_CHANGE"},si=new(function(){function t(){this.styles={},this.container={},this.domId="",this._cache={}}var e=t.prototype;return e.getOrPutInCache=function(t,e){return this._cache[t]?this._cache[t]:(this._cache[t]=e(),this._cache[t])},e.dumpCache=function(){this._cache={}},e.updateParams=function(t){var e=t.styles,i=t.container,r=t.domId;this.dumpCache(),this.domId=r||this.domId,this.styles=e||this.styles,this.container=i||this.container},e.getDimensionFix=function(){var t=this;return this.getOrPutInCache("dimensionFix",(function(){return Number(t.styles.imageMargin)-Number(t.styles.galleryMargin)}))},e.isUnknownWidth=function(t){return void 0===t&&(t=this.container),!(t.width>0)},e.isUnknownHeight=function(t){return void 0===t&&(t=this.container),!(t.height>0)},e.calcBoundingRect=function(){M.isVerbose()&&console.count("calcBoundingRect");try{return S.document.getElementById("pro-gallery-"+this.domId).getBoundingClientRect()}catch(t){return!1}},e.getBoundingRect=function(){var t=this;return this.getOrPutInCache("boundingRect",(function(){return t.calcBoundingRect()||{x:0,y:0,width:S.innerWidth,height:S.innerHeight}}))},e.calcBodyBoundingRect=function(){M.isVerbose()&&console.count("calcBodyBoundingRect");try{return S.document.body.getBoundingClientRect()}catch(t){return!1}},e.getBodyBoundingRect=function(){var t=this;return this.getOrPutInCache("bodyBoundingRect",(function(){return t.calcBodyBoundingRect()||{x:0,y:0,width:S.innerWidth,height:S.innerHeight}}))},e.calcScrollBase=function(){var t=this;return this.getOrPutInCache("scrollBase",(function(){var e=t.container.scrollBase;try{e>=0||(e=0);var i=t.getBoundingRect().y-t.getBodyBoundingRect().y;i>=0&&(e+=i)}catch(t){}return e}))},e.getGalleryDimensions=function(){var t=this;return this.getOrPutInCache("galleryDimensions",(function(){!t.isUnknownWidth()||M.isSSR()||t.container.avoidMeasuringWidth||t.tryCalcAndSetContainerWidth(),!t.isUnknownHeight()||M.isSSR()||t.container.avoidMeasuringHeight||t.tryCalcAndSetContainerHeight();var e=t.container,i={galleryWidth:Math.ceil(t.getGalleryWidth()),galleryHeight:Math.ceil(t.getGalleryHeight()),scrollBase:Math.ceil(e.scrollBase>=0?e.scrollBase:t.calcScrollBase()||0),height:Math.ceil(e.height),width:Math.ceil(e.width)};if(t.styles.hasThumbnails){var r=t.styles.thumbnailSize+t.styles.galleryMargin+3*t.styles.thumbnailSpacings;switch(t.styles.galleryThumbnailsAlignment){case"top":case"bottom":i.galleryHeight-=r;break;case"left":case"right":i.galleryWidth-=r}}else t.styles.isSlideshow&&(i.galleryHeight-=t.styles.slideshowInfoSize);return i}))},e.tryCalcAndSetContainerWidth=function(){var t=this.calcBoundingRect(),e=t&&t.width;e&&(this.container.width=e,M.isVerbose()&&console.log("Pro-Gallery calculated width"))},e.tryCalcAndSetContainerHeight=function(){var t=this.calcBoundingRect(),e=t&&t.height;e>0?(this.container.height=e,M.isVerbose()&&console.log("Pro-Gallery calculated height")):0===e&&(this.container.height=200,M.isVerbose()&&console.log("Pro-Gallery calculated height of 0, will set manually to 200"))},e.getGalleryWidth=function(){var t=this;return this.getOrPutInCache("galleryWidth",(function(){var e=Math.floor((t.container.width>0?t.container.width:S.isMock?M.getScreenWidth():S.innerWidth)+2*t.getDimensionFix());return t.styles.arrowsPosition&&t.styles.oneRow&&(e-=2*(t.styles.arrowsSize+40+t.styles.imageMargin)),e}))},e.getGalleryHeight=function(){var t=this;return this.getOrPutInCache("galleryHeight",(function(){return Math.floor((t.container.height>0?t.container.height:S.isMock?M.getScreenHeight():S.innerHeight)+(t.styles.oneRow?t.getDimensionFix():0))}))},e.getGalleryRatio=function(){var t=this;return this.getOrPutInCache("galleryRatio",(function(){var e=t.getGalleryDimensions();return e.galleryWidth/e.galleryHeight}))},t}());function ni(t){return{bricks:{sampleSize:100,isVertical:!0,gallerySize:400,minItemSize:50,groupSize:3,chooseBestGroup:!0,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",rotatingGroupTypes:"2h",cubeImages:!0,cubeType:"fill",smartCrop:!1,collageDensity:.8,galleryMargin:0,floatingImages:0,cubeRatio:1,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,at:1538487882356,rotatingCropRatios:"0.707,1.414,1.414,0.707"},alternate:{sampleSize:100,isVertical:!0,gallerySize:86,minItemSize:50,groupSize:3,chooseBestGroup:!0,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",rotatingGroupTypes:"1,3l,1,3r",cubeImages:!0,cubeType:"fill",smartCrop:!1,collageDensity:.48,galleryMargin:0,floatingImages:0,cubeRatio:1,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,at:1538490828979,rotatingCropRatios:""},mix:{sampleSize:100,isVertical:!0,gallerySize:86,minItemSize:50,groupSize:3,chooseBestGroup:!0,groupTypes:"1,2h,2v,3t,3b,3l,3r,3v,3h",rotatingGroupTypes:"1,2h,1,2h",cubeImages:!0,cubeType:"fill",smartCrop:!1,collageDensity:.48,galleryMargin:0,floatingImages:0,cubeRatio:1,fixedColumns:1,groupsPerStrip:0,oneRow:!1,placeGroupsLtr:!1,at:1538490323024,rotatingCropRatios:""}}[["bricks","alternate","mix"][t]]}var oi={AUTOMATIC:"AUTOMATIC",MANUAL:"MANUAL"},ai={VERTICAL:0,HORIZONTAL:1};function li(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function hi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ci={galleryType:void 0,groupSize:void 0,showArrows:void 0,cubeImages:void 0,cubeType:void 0,cubeRatio:void 0,isVertical:void 0,gallerySize:void 0,collageAmount:void 0,collageDensity:void 0,groupTypes:void 0,oneRow:void 0,imageMargin:void 0,galleryMargin:void 0,floatingImages:void 0,chooseBestGroup:void 0,smartCrop:void 0,hasThumbnails:void 0,enableScroll:void 0,isGrid:void 0,isSlider:void 0,isColumns:void 0,isSlideshow:void 0,cropOnlyFill:void 0,fixedColumns:void 0,enableInfiniteScroll:void 0};function ui(t){!t>0&&(t=999999),t=Math.floor(t);var e=function(e,i,r){var s,n,o=function(t){t=String(t);for(var e=0,i=0;i<t.length;i++)e+=t.charCodeAt(i);return e}(r),a=i-e+1;return s=t,n=o,Math.floor(1e7*(s/n-Math.floor(s/n)))%a+e},i=function(t){return!!e(0,1,t)},r={cubeImages:i("cubeImages"),cubeRatio:e(1,25,"cubeRatio")/5,isVertical:i("isVertical"),gallerySize:e(300,800,"gallerySize"),collageAmount:e(5,10,"collageAmount")/10,collageDensity:(Rt.supports.spacingCalculation?e(1,100,"collageDensity"):e(5,10,"collageDensity"))/100,groupTypes:["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(t,e){return i("groupTypes"+e)}))),oneRow:i("oneRow"),imageMargin:e(0,Rt.supports.spacingCalculation?e(300,800,"gallerySize")/5:5,"imageMargin"),galleryMargin:Rt.supports.spacingCalculation?0:e(0,5,"imageMargin"),floatingImages:0,chooseBestGroup:i("chooseBestGroup"),smartCrop:i("smartCrop"),showArrows:!1,cubeType:"fill",hasThumbnails:!1,enableScroll:!0,isGrid:!1,isSlideshow:!1,isSlider:!1,isColumns:!1,cropOnlyFill:!1,fixedColumns:0,enableInfiniteScroll:1};return r.oneRow&&(r.isVertical=!1),r.galleryType=r.isVertical?"Columns":"Strips",r.groupSize=parseInt(r.groupTypes.slice(-1)[0]),r.groupTypes=r.groupTypes.join(","),r.minItemSize=r.gallerySize/r.groupSize/2,r}function pi(t){var e=t.galleryLayout,i=t.gallerySize,r=t.magicLayoutSeed,s={collage:function(){return{showArrows:!1,cubeImages:!1,groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",gallerySize:Math.round(5*i+500),fixedColumns:0,hasThumbnails:!1,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1}},masonry:function(){return{showArrows:!1,cubeImages:!1,groupSize:1,groupTypes:"1",gallerySize:i,fixedColumns:0,hasThumbnails:!1,enableScroll:!0,isGrid:!1,isSlider:!1,isMasonry:!0,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,oneRow:!1}},grid:function(){return{showArrows:!1,cubeImages:!0,smartCrop:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",fixedColumns:void 0,gallerySize:Math.round(8.5*i+150),hasThumbnails:!1,enableScroll:!0,cropOnlyFill:!1,isSlider:!1,isColumns:!1,isGrid:!0,isMasonry:!1,isSlideshow:!1,minItemSize:50}},thumbnails:function(){return{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeRatio:"100%/100%",isVertical:!1,galleryType:"Strips",groupSize:1,gallerySize:function(){return si.getGalleryWidth()},groupTypes:"1",oneRow:!0,hasThumbnails:!0,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isMasonry:!1,isColumns:!1,isSlideshow:!1,cropOnlyFill:!1,floatingImages:0,galleryMargin:0,imageMargin:0}},slider:function(){return{showArrows:!0,cubeImages:!0,smartCrop:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",gallerySize:function(){return si.getGalleryHeight()},oneRow:!0,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!0,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!0}},slideshow:function(){return{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeRatio:"100%/100%",isVertical:!1,gallerySize:550,galleryType:"Strips",groupSize:1,groupTypes:"1",fixedColumns:1,oneRow:!0,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!0,cropOnlyFill:!1,floatingImages:0,galleryMargin:0,imageMargin:0}},panorama:function(){return{showArrows:!1,cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",gallerySize:function(){return si.getGalleryWidth()},oneRow:!1,fixedColumns:1,hasThumbnails:!1,enableScroll:!0,isGrid:!1,isColumns:!1,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1,slideshowLoop:!1}},column:function(){return{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeType:"fill",cubeRatio:.35,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",gallerySize:function(){return si.getGalleryHeight()},fixedColumns:0,hasThumbnails:!1,oneRow:!0,enableScroll:!0,isGrid:!1,isColumns:!0,isMasonry:!1,isSlider:!1,isSlideshow:!1,cropOnlyFill:!1}},fullsize:function(){return{showArrows:!0,cubeImages:!0,smartCrop:!1,cubeType:"fill",cubeRatio:"100%/100%",isVertical:!1,galleryType:"Strips",groupSize:1,gallerySize:function(){return si.getGalleryWidth()},groupTypes:"1",oneRow:!0,hasThumbnails:!1,enableScroll:!0,scrollSnap:!0,isGrid:!1,isSlider:!1,isColumns:!1,isMasonry:!1,isSlideshow:!1,cropOnlyFill:!1,floatingImages:0,galleryMargin:0,imageMargin:0}},empty:function(){return{gallerySize:Math.round(9*i+100)}},magic:function(){return ui(r)},bricks:function(){return ni(0)},alternate:function(){return ni(1)},mix:function(){return ni(2)}},n=["empty","collage","masonry","grid","thumbnails","slider","slideshow","panorama","column","magic","fullsize","bricks","alternate","mix"][e+1];return M.isUndefined(n)&&(e=0,n="collage"),M.isVerbose()&&console.log("chosen layout is",n),function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?li(i,!0).forEach((function(e){hi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):li(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},s[n](),{galleryLayout:e})}function di(t){var e=t.galleryType,i=t.galleryLayout;if(!M.isUndefined(e)&&M.isUndefined(i)){(t=Object.assign(t,function(t){var e,i=t.galleryType,r=t.gallerySize,s=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",gallerySize:Math.round(5*r+500),fixedColumns:0}},n=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:3,groupTypes:"1,2h,2v,3t,3b,3l,3r",gallerySize:Math.round(5*r+500),fixedColumns:0}},o=function(){return{cubeImages:!0,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",gallerySize:Math.round(8.5*r+150),fixedColumns:0,isGrid:!0}},a=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",gallerySize:Math.round(8*r+200),fixedColumns:0}},l=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",gallerySize:Math.round(5*r+200),fixedColumns:0}},h=function(){return{cubeImages:!1,isVertical:!0,galleryType:"Columns",groupSize:1,groupTypes:"1",gallerySize:function(){return si.getGalleryWidth()},fixedColumns:1}},c=function(){return{cubeImages:!1,isVertical:!1,galleryType:"Strips",groupSize:1,groupTypes:"1",gallerySize:function(){return si.getGalleryHeight()},fixedColumns:0}},u=function(){return{showArrows:!0,cubeImages:!0,cubeRatio:function(){return si.getGalleryRatio()},isVertical:!0,gallerySize:function(){return si.getGalleryWidth()},galleryType:"Columns",groupSize:1,groupTypes:"1",fixedColumns:1}};switch(i){case"-1":e={gallerySize:r};break;case"0":e=s();break;default:case"1":e=n();break;case"2":e=o();break;case"3":e=a();break;case"4":e=l();break;case"5":e=h();break;case"6":e=c();break;case"7":e=u()}return e}(t))).layoutsVersion=1;t.selectedLayout=["galleryType","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(e){return String(t[e])})).join("|")}else{M.isVerbose()&&console.log("Using galleryLayout for defaults",t);(t=Object.assign({},ci,t,pi(t))).selectedLayout=["galleryLayout","galleryThumbnailsAlignment","magicLayoutSeed","cubeType","isVertical","scrollDirection","enableInfiniteScroll"].map((function(e){return String(t[e])})).join("|"),t.layoutsVersion=2,t.selectedLayoutV2=i,M.isVerbose()&&console.log("new selected layout",t.selectedLayout)}return t=Object.assign(t,function(t){var e=t;e.isSlideshowFont=function(t){var e=t.galleryLayout;if(5===e)return!0;if("SHOW_ABOVE"===t.titlePlacement||"SHOW_BELOW"===t.titlePlacement){if(4===e||6===e||7===e)return!0;if(1===e&&t.isVertical)return!0;if(2===e&&1!==t.scrollDirection)return!0}return!1}(e),e.oneRow=e.oneRow||e.scrollDirection===ai.HORIZONTAL,M.isMobile()&&(e.isSlideshowFont?(M.isUndefined(e.itemFontSlideshow)||(e.itemFontSlideshow.value=e.itemFontSlideshow.value.replace(/^font\s*:\s*/,""),e.itemFontSlideshow.value=e.itemFontSlideshow.value.replace(/;$/,""),e.itemFontSlideshow.value.indexOf("underline")>-1?(e.itemFontSlideshow.value=e.itemFontSlideshow.value.replace("underline",""),e.textDecorationTitle="underline"):e.textDecorationTitle="none"),M.isUndefined(e.itemDescriptionFontSlideshow)||(e.itemDescriptionFontSlideshow.value=e.itemDescriptionFontSlideshow.value.replace(/^font\s*:\s*/,""),e.itemDescriptionFontSlideshow.value=e.itemDescriptionFontSlideshow.value.replace(/;$/,""),e.itemDescriptionFontSlideshow.value.indexOf("underline")>-1?(e.itemDescriptionFontSlideshow.value=e.itemDescriptionFontSlideshow.value.replace("underline",""),e.textDecorationDesc="underline"):e.textDecorationDesc="none")):(M.isUndefined(e.itemFont)||(e.itemFont.value=e.itemFont.value.replace(/^font\s*:\s*/,""),e.itemFont.value=e.itemFont.value.replace(/;$/,""),e.itemFont.value.indexOf("underline")>-1?(e.itemFont.value=e.itemFont.value.replace("underline",""),e.textDecorationTitle="underline"):e.textDecorationTitle="none"),M.isUndefined(e.itemDescriptionFont)||(e.itemDescriptionFont.value=e.itemDescriptionFont.value.replace(/^font\s*:\s*/,""),e.itemDescriptionFont.value=e.itemDescriptionFont.value.replace(/;$/,""),e.itemDescriptionFont.value.indexOf("underline")>-1?(e.itemDescriptionFont.value=e.itemDescriptionFont.value.replace("underline",""),e.textDecorationDesc="underline"):e.textDecorationDesc="none")));e.isVertical&&!(e.groupSize>1)&&!0!==e.oneRow||e.isSlider||e.isColumns||(e.titlePlacement=Ct.SHOW_ON_HOVER);e.titlePlacement===Ct.SHOW_ON_HOVER&&(e.hoveringBehaviour===ri.DISAPPEARS?e.titlePlacement=Ct.SHOW_NOT_ON_HOVER:e.hoveringBehaviour===ri.NO_CHANGE?e.titlePlacement=Ct.SHOW_ALWAYS:e.titlePlacement=Ct.SHOW_ON_HOVER);e.textBoxHeight=function(t){if(!mi(t))return 0;return t.calculateTextBoxHeightMode===oi.AUTOMATIC?function(t){var e=t.itemFontSlideshow,i=t.itemDescriptionFontSlideshow,r=t.allowTitle,s=t.allowDescription,n=t.useCustomButton;if(!mi(t))return 0;var o=n?33:0,a=n&&(r||s)?Dt.spaceBetweenElements:0,l=0,h=0;r&&(l=e?gi(e):22,a+=s?Dt.spaceBetweenTitleAndDescription:0);s&&(h=i?gi(i):15);return 10+l+3*h+45+a+o}(t):t.textBoxHeight}(e),e.externalInfoHeight=function(t,e){var i=e;t.titlePlacement!==Ct.SHOW_ABOVE&&t.titlePlacement!==Ct.SHOW_BELOW||t.imageInfoType!==kt.SEPARATED_BACKGROUND||!t.allowTitle&&!t.allowDescription||(i+=t.textImageSpace,i+=2*t.textBoxBorderWidth);return i}(e,e.textBoxHeight),"fit"===e.cubeType&&(e.isGrid||e.hasThumbnails||e.isSlider||e.isSlideshow)&&(e.itemBorderWidth=0,e.itemBorderRadius=0,e.itemEnableShadow=!1);e.itemEnableShadow&&(e.oneRow?e.itemEnableShadow=!1:e.galleryMargin=Math.max(e.galleryMargin,(e.itemShadowSize||0)+(e.itemShadowBlur||0)));e.oneRow?(e.isVertical=!1,e.scrollAnimation=be.NO_EFFECT):e.slideshowLoop=!1;e.imageMargin>0&&(M.isMobile()&&(e.imageMargin=Math.min(e.imageMargin,50)),e.imageMargin/=2);e.loadMoreButtonFont&&M.isMobile()&&(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/;$/,""),e.loadMoreButtonFont.value.indexOf("underline")>-1?(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace("underline",""),e.textDecorationLoadMore="underline"):e.textDecorationLoadMore="none");e.isSlider?e.cubeRatio=e.gallerySliderImageRatio:e.isGrid&&!M.isUndefined(e.galleryImageRatioFromWix)&&(e.cubeRatio=e.galleryImageRatioFromWix);(e.isGrid&&!e.oneRow||Rt.supports.fixedColumnsInMasonry&&e.isMasonry&&e.isVertical)&&(e.fixedColumns="1"===String(e.gridStyle)?Number(e.numberOfImagesPerRow):0,e.groupTypes="1",e.groupSize=1,e.collageAmount=0,e.collageDensity=0);if(!M.isUndefined(e.numberOfImagesPerCol)&&e.isGrid&&e.oneRow)switch(e.fixedColumns=0,e.numberOfImagesPerCol){case 1:default:e.groupTypes="1",e.groupSize=1,e.collageAmount=0,e.collageDensity=0;break;case 2:e.groupTypes="2v",e.groupSize=2,e.collageAmount=1,e.collageDensity=1;break;case 3:e.groupTypes="3v",e.groupSize=3,e.collageAmount=1,e.collageDensity=1}"1"===String(e.galleryLayout)&&(e.isVertical?e.gallerySize=Math.round(8*e.gallerySize+200):e.gallerySize=Math.round(5*e.gallerySize+200));e.forceMobileCustomButton&&(e.gallerySize=Math.round(405),e.titlePlacement=Ct.SHOW_BELOW,e.galleryLayout=2,e.fixedColumns=1,e.numberOfImagesPerRow=1);e.fixedColumns>0&&M.isMobile()&&void 0===e.m_numberOfImagesPerRow&&(e.fixedColumns=1);"px"===e.gallerySizeType&&e.gallerySizePx>0?e.gallerySize=e.gallerySizePx:"ratio"===e.gallerySizeType&&e.gallerySizeRatio>0&&(e.gallerySize=(S&&S.innerWidth||980)*(e.gallerySizeRatio/100));return e}(t))}function mi(t){var e=t.titlePlacement,i=t.allowTitle,r=t.allowDescription,s=t.useCustomButton;return!("SHOW_ABOVE"!==e&&"SHOW_BELOW"!==e||!(i||r||s))}function gi(t){return t.value.match(/\/(\d+)px/)?parseInt(t.value.match(/\/(\d+)px/)[1]):t.value.match(/\/(\d+)%/)?t.size*(parseInt(t.value.match(/\/(\d+)%/)[1])/100):t.value.match(/px\/(([0-9]*[.])?[0-9]*)/)?t.size*parseFloat(t.value.match(/px\/(([0-9]*[.])?[0-9]*)/)[1]):(console.error("GalleryContainer -> getFontLineHeight -> font lineHeight do not match any pattern. font value: ",t.value),t.size)}var fi=i(1),yi="fill",vi="fit",bi="full",wi="video";function Ii(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Si(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ii(i,!0).forEach((function(e){Oi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ii(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Oi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xi(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Pi=function(){function t(t){this.uniqueId=M.generateUUID(),this.isGalleryItem=!0,this.createdBy=t.createdBy,this.createUrl=this.createUrl.bind(this),this.update(t)}var e,i,r,s=t.prototype;return s.update=function(t){if(this.resizeMediaUrl=t.resizeMediaUrl,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,M.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Si({},t.dto),t.scheme)this.processScheme(t.scheme);else{var e={};Object.assign(e,this.dto,this.metadata),this.processScheme(new fi.Item({dto:e}).scheme)}if(this.dto){var i=this.dto.metaData||this.dto.metadata;i&&(this.dto.metaData=M.parseStringObject(i))}this.sharpParams=Si({},t.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.resetUrls(),this.updateSharpParams()},s.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.type=t.type,this.style=t.style,this.width=t.width,this.maxWidth=t.maxWidth,this.height=t.height,this.maxHeight=t.maxHeight,this.margins=t.margins,this.ratio=t.ratio,this.cubeRatio=t.cropRatio,this.cubeImages=t.isCropped,this.cubeType=t.cropType||yi,this.offset=t.offset,this.group=t.group,this.transform=t.transform,this.orientation=t.orientation,this.visibility=t.visibility},s.renderProps=function(t){return Si({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,url:this.url,alt:this.alt,directLink:this.directLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cubeRatio:this.cubeRatio,transform:this.transform,offset:this.offset,style:Si({bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,ratio:this.ratio,orientation:this.orientation},this.style),isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo},t)},s.getDataForShop=function(){var t=this.focalPoint,e=this.metadata;return{isDemo:e.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:e.height,title:e.title,itemWidth:e.width,itemType:e.type||"image",imageUrl:this.resizedUrl(vi,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:t[0],fpY:t[1]}},s.getHighestMp4Resolution=function(t){var e=t.filter((function(t){return"mp4"===t.formats[0]})).sort((function(t,e){return e.width-t.width}))[0];return{width:e.width,height:e.height}},s.resizedUrl=function(t,e,i,r){var s=this,n=function(t,e){var i;if("function"==typeof s.resizeMediaUrl)try{for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var a=String(M.hashCode(JSON.stringify(Si({url:e},n))));s._cachedUrls[a]||(s._cachedUrls[a]=String(s.resizeMediaUrl.apply(s,[t,e].concat(n))||"")),i=s._cachedUrls[a]}catch(t){i=String(e)}else i=String(e);return i};e=Math.ceil(e),i=Math.ceil(i);var o=t===yi&&this.isCropped&&this.focalPoint,a={},l=this.url;return this.isText?Object.assign.apply(Object,[{}].concat(Object.values(K).map((function(t){var e;return(e={})[t]=function(){return""},e})))):(this.isVideo&&(l=this.poster,M.isExternalUrl(this.url)?a[K.VIDEO]=function(){return s.url}:a[K.VIDEO]=function(){return n(s,s.url,wi,e,i)}),a[K.HIGH_RES]=function(){return n(s,l,t,e,i,r,o)},a[K.LOW_RES]=function(){return n(s,l,t,250,250*i/e,Si({},r,{quality:30,blur:30}),o)},a[K.SEO]=function(){return a[K.HIGH_RES]().replace(/\.webp$/i,".jpg")},a)},s.resetUrls=function(){var t=this.maxWidth||this.dto.width||this.metadata.width,e=this.maxHeight||this.dto.height||this.metadata.height;this.thumbnailWidth=Math.min(t,this.width,500),this.thumbnailHeight=Math.min(e,this.height,500),this.resizeWidth=Math.min(t,Math.ceil(this.width)),this.resizeHeight=Math.min(e,Math.ceil(this.height)),this._cachedUrls={},this.urls={}},s.createUrl=function(t,e){try{return this[t+"_url"][e]()}catch(t){return""}},s.createDownloadUrl=function(t){var e=this;return this.urls.download_url||(this.urls.download_url=t,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=function(){return e.urls.download_url._img()+"?dn="+e.fileName}),this.urls.download_url},s.updateSharpParams=function(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){var t=this.dto.metaData.sharpParams.L;t.quality&&!0===t.overrideQuality&&(this.sharpParams.quality=t.quality),t.usm&&!0===t.overrideUsm&&(this.sharpParams.usm=t.usm)}},s.updateId=function(t){this.dto.itemId=this.id=t},s.updateOrderIndex=function(t){var e=this.orderIndex!==t;return this.orderIndex=t,e},e=t,(i=[{key:"resized_url",get:function(){return this.urls.resized_url||(this.urls.resized_url=this.resizedUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url}},{key:"pixel_url",get:function(){return this.urls.pixel_url||(this.urls.pixel_url=this.resizedUrl(yi,1,1,{quality:5})),this.urls.pixel_url}},{key:"thumbnail_url",get:function(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.resizedUrl(vi,this.thumbnailWidth,this.thumbnailHeight,{quality:30})),this.urls.thumbnail_url}},{key:"square_url",get:function(){return this.urls.square_url||(this.urls.square_url=this.resizedUrl(yi,100,100,{quality:80})),this.urls.square_url}},{key:"full_url",get:function(){return this.urls.full_url||(this.urls.full_url=this.resizedUrl(bi,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url}},{key:"sample_url",get:function(){return this.urls.sample_url||(this.urls.sample_url=this.resizedUrl(vi,500,500,this.sharpParams)),this.urls.sample_url}},{key:"preload_url",get:function(){return this.urls.preload_url||(this.urls.preload_url=this.resized_url),this.urls.preload_url}},{key:"download_url",get:function(){return this.createDownloadUrl(this.full_url)}},{key:"download_sample_url",get:function(){return this.createDownloadUrl(this.sample_url)}},{key:"itemId",get:function(){return this.id}},{key:"metadata",get:function(){var t=this.dto.metaData||this.dto.metadata;return M.isUndefined(t)&&(t={}),t}},{key:"metaData",get:function(){return this.metadata}},{key:"bgColor",get:function(){return this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none"}},{key:"isCropped",get:function(){return this.cubeImages&&this.cubeType===yi}},{key:"focalPoint",get:function(){return this.metadata.focalPoint||[.5,.5]},set:function(t){this.metadata.focalPoint=t}},{key:"photoId",get:function(){return this.id}},{key:"key",get:function(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key}},{key:"orderIndex",get:function(){return this.dto.orderIndex||this.dto.o||0},set:function(t){this.dto.orderIndex=t}},{key:"url",get:function(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src}},{key:"mediaUrl",get:function(){return this.url}},{key:"html",get:function(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text}},{key:"lastModified",get:function(){return this.metadata.lastModified}},{key:"seed",get:function(){return M.hashToInt(this.url)}},{key:"isImage",get:function(){return"image"===this.type}},{key:"isImportant",get:function(){return!!this.dto.i}},{key:"videoUrl",get:function(){return this.metadata.videoUrl}},{key:"poster",get:function(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster.url||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1].url:null)}},{key:"qualities",get:function(){return this.metadata.qualities}},{key:"isExternalVideo",get:function(){return this.metadata.isExternal}},{key:"isExternal",get:function(){return!0===this.metadata.isExternal}},{key:"type",set:function(t){this._type=t},get:function(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"i":case"image":default:return"image"}}},{key:"alt",get:function(){return this.metadata.alt||this.title||this.description}},{key:"title",get:function(){return this.metadata.title||""},set:function(t){this.metadata.title=t}},{key:"fileName",get:function(){return this.metadata.fileName||"file"},set:function(t){this.metadata.fileName=t}},{key:"description",get:function(){return this.metadata.description||""},set:function(t){this.metadata.description=t}},{key:"exif",get:function(){return this.metadata.exif||""}},{key:"hasLink",get:function(){switch(this.linkType){case"wix":return!!this.linkData.type;default:return!!this.linkUrl}}},{key:"link",get:function(){return this.metadata.link||{}}},{key:"linkData",get:function(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=t}},{key:"linkType",get:function(){return this.metadata.link&&!M.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:t,url:void 0,text:void 0,title:void 0,target:"_blank"}}},{key:"defaultLinkText",get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Go to Link";switch(t.type){case"PageLink":return"Go to Page "+t.pageName;case"AnchorLink":return"Scroll to "+t.anchorName;case"ExternalLink":return""+t.url;case"EmailLink":return"Email "+t.recipient;case"PhoneLink":return"Call "+t.phoneNumber;case"DocumentLink":return"Open "+t.name;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}}},{key:"defaultLinkValue",get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Add a Link";switch(t.type){case"PageLink":return t.pageName?"PAGE - "+t.pageName:"PAGE";case"AnchorLink":return"ANCHOR - "+t.anchorName;case"ExternalLink":return"LINK - "+t.url;case"EmailLink":return"EMAIL - "+t.recipient;case"PhoneLink":return"PHONE - "+t.phoneNumber;case"DocumentLink":return"DOCUMENT - "+t.name;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}}},{key:"linkText",get:function(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=t}},{key:"linkTitle",get:function(){return this.metadata.link&&this.metadata.link.title},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=t}},{key:"linkUrl",get:function(){return this.metadata.link&&this.metadata.link.url},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=t}},{key:"isWixUrl",get:function(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")}},{key:"linkTitleFromUrl",get:function(){var t=/[^/]*\.\w+$/g.exec(this.linkUrl),e=t&&t[0];return e&&e.split(".")[0]}},{key:"unprotectedLinkOpenType",get:function(){return M.get(this,"metadata.link.target")}},{key:"linkOpenType",get:function(){return this.metadata.link&&!M.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!M.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=t}},{key:"initialLinkObject",get:function(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}}},{key:"isDemo",get:function(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0},set:function(t){this.metadata.isDemo=t}},{key:"isText",get:function(){return"text"===this.type}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isVisible",get:function(){return this.visibility&&this.visibility.visible}},{key:"isRendered",get:function(){return this.visibility&&this.visibility.rendered}},{key:"isDimensionless",get:function(){return!(this.maxWidth>1||this.maxHeight>1)}},{key:"isTransparent",get:function(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)}},{key:"directLink",get:function(){return this.dto.directLink||""}}])&&xi(e.prototype,i),r&&xi(e,r),t}();function Ei(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ci=function(){function t(t){this.uniqueId=M.generateUUID(),this.isGalleryGroup=!0,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,M.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme?this.processScheme(t.scheme):this.processScheme(new fi.Group({dto:t.dto}).scheme),t.items?this.items=t.items:console.warn("Pro Gallery created Gallery Group without items",t)}var e,i,r,s=t.prototype;return s.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.width=t.width,this.height=t.height,this.totalHeight=t.totalHeight,this.ratio=t.ratio,this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this.visible=t.visible,this.rendered=t.rendered,this.required=t.required},s.renderProps=function(t){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:t}},e=t,(i=[{key:"key",get:function(){return"group_"+this.id}}])&&Ei(e.prototype,i),r&&Ei(e,r),t}();function ki(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Di(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ki(i,!0).forEach((function(e){Ti(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ki(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ti(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Li=function(){function t(){}return t.convertDtoToLayoutItem=function(t){if(!!(t.id&&t.width>0&&t.height>0))return t;var e=t.metadata||t.metaData,i="object"==typeof e?e:M.parseStringObject(e)||{};return Di({id:t.itemId||t.photoId,width:i.width,height:i.height},t)},t.convertToGalleryItems=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=[]),t.galleryItems=[];for(var r=0;r<t.columns.length;r++){var s=t.columns[r];s.galleryGroups=[];for(var n=s.groups||s,o=0;o<n.length;o++){for(var a=n[o],l=[],h=0;h<a.items.length;h++){var c=a.items[h],u=Di({scheme:c,dto:c.dto},e),p=i[c.idx],d=void 0;p&&p.id&&p.id===c.id?(d=p).update(u):d=new Pi(u),l[h]=d,t.galleryItems[c.idx]=l[h]}s.galleryGroups[o]=new Ci({scheme:a,dto:a.dto,items:l})}}return M.isVerbose()&&console.log({galleryStructure:t}),t},t.convertExistingStructureToGalleryItems=function(t,e,i){void 0===i&&(i={}),M.isVerbose()&&console.time("convertToGalleryItems"),t.galleryItems||(t.galleryItems=[]);for(var r=0;r<e.columns.length;r++){var s=e.columns[r],n=t.columns[r]||s;n.galleryGroups||(n.galleryGroups=[]);for(var o=s.groups||s,a=0;a<o.length;a++){for(var l=o[a],h=[],c=0;c<l.items.length;c++){var u=l.items[c];t.galleryItems[u.idx]?t.galleryItems[u.idx].processScheme(u):(h[c]=new Pi(Object.assign({scheme:u,dto:u.dto},i)),t.galleryItems[u.idx]=h[c])}n.galleryGroups[a]?n.galleryGroups[a].processScheme(l):n.galleryGroups[a]=new Ci({scheme:l,dto:l.dto,items:h})}s.galleryGroups=n.galleryGroups}return e.galleryItems=t.galleryItems,M.isVerbose()&&console.timeEnd("convertToGalleryItems"),e},t}();function _i(t){var e,i,r=t.durationInMS,s=t.horizontalElement,n=t.scrollingElement,o=t.isRTL,a=t.oneRow,l=t.galleryWidth,h=t.galleryHeight,c=t.totalWidth,u=t.top,p=t.items,d=t.itemIdx,m=t.fixedScroll;if(a?(i=s.scrollLeft,e=o?i-d*l/2:i+d*l/2):(i=u,e=u+d*h/2),!0!==m){M.isVerbose()&&console.log("Scrolling to items #"+d);var g=p.find((function(t){return t.idx===d}));if(e=a?M.get(g,"offset.left"):M.get(g,"offset.top"),g&&o&&(e+=g.width),M.isVerbose()&&console.log("Scrolling to position "+e,g),!(e>=0))return M.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((function(t){return t()}));if(a){var f=(l-g.width)/2;f>0&&(e-=f),o&&(e=c-e),e=Math.max(0,e),M.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return a?function(t,e,i,r,s){var n=i-e,o=t.firstChild;return t.setAttribute("data-scrolling","true"),Object.assign(o.style,{transition:"margin "+r+"ms linear","-webkit-transition":"margin "+r+"ms linear"},s?{marginRight:n+"px"}:{marginLeft:-1*n+"px"}),new Promise((function(e){setTimeout((function(){Object.assign(o.style,{transition:"none","-webkit-transition":"none"},s?{marginRight:0}:{marginLeft:0}),t.scrollLeft=i,t.setAttribute("data-scrolling",""),e(i)}),r)}))}(s,Math.round(i),Math.round(e),r,o):new Promise((function(t){n.vertical().scrollTo(0,e),t(e)}))}function Mi(t){var e=t.offset,i=t.scroll,r=t.itemStart;return{before:i-e-t.itemEnd,after:e+r-t.screenSize-i}}function Ri(t){var e=t.target,i=t.scrollBase,r=t.top,s=t.bottom,n=t.screenHeight,o=t.padding,a=Mi({offset:i||0,scroll:e.scrollY,itemStart:r,itemEnd:s,screenSize:n});return a.before<o&&a.after<o}function Ai(t){var e=t.target,i=t.left,r=t.right,s=t.screenWidth,n=t.padding,o=Mi({offset:0,scroll:e.scrollLeft,itemStart:i,itemEnd:r,screenSize:s});return o.before<n&&o.after<n}var Ni=function(t){var e,i;function r(e){var i;return(i=t.call(this)||this).state={scrollTop:0,scrollLeft:0},i.debouncedOnScroll=M.debounce(e.onScroll,50),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.removeScrollListener=function(){if(this.scrollEventListenerSet){var t=this.props.scrollingElement;try{t.vertical().removeEventListener("scroll",this.onVerticalScroll)}catch(t){}try{this.props.oneRow&&t.horizontal().removeEventListener("scroll",this.onHorizontalScroll)}catch(t){}this.scrollEventListenerSet=!1}},s.initScrollListener=function(){var t=this;this.scrollEventListenerSet&&this.removeScrollListener(),this.scrollEventListenerSet=!0;var e=this.props.oneRow,i=this.props.scrollingElement;this.onHorizontalScroll=function(i){var r=i.currentTarget||i.target||i,s=r&&(r.scrollY||r.scrollTop||r.y),n=r&&(r.scrollX||r.scrollLeft||r.x);t.props.isRTL&&(n=t.props.totalWidth-n),n>=0&&(e&&t.setState({scrollTop:n,scrollLeft:n}),t.props.getMoreItemsIfNeeded(n),t.props.enableScrollPreload(),t.debouncedOnScroll({top:s,left:n}))};try{i.horizontal().addEventListener("scroll",this.onHorizontalScroll)}catch(t){}this.onVerticalScroll=function(i){var r=i.currentTarget||i.target||i,s=r&&(r.scrollY||r.scrollTop||r.y),n=r&&(r.scrollX||r.scrollLeft||r.x);t.props.isRTL&&(n=t.props.totalWidth-n),s>=0&&(e||t.setState({scrollTop:s}),t.props.getMoreItemsIfNeeded(s),t.props.enableScrollPreload(),t.debouncedOnScroll({top:s,left:n}))};try{i.vertical().addEventListener("scroll",this.onVerticalScroll)}catch(t){}},s.componentWillUnmount=function(){this.removeScrollListener()},s.componentDidMount=function(){this.initScrollListener()},s.componentWillReceiveProps=function(){this.initScrollListener()},s.render=function(){var t=!this.props.oneRow&&this.props.scrollBase>0?this.props.scrollBase:0,e=this.state.scrollTop-t,i=this.props.galleryDomId;return n.a.createElement("div",{key:"css-scroll-indicator","data-hook":"css-scroll-indicator","data-scroll-base":t,"data-scroll-top":this.state.scrollTop,className:we.calcScrollClasses(i,e),style:{display:"none"}})},r}(H);function ji(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Hi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ji(i,!0).forEach((function(e){Gi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ji(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Gi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var zi=[480,768,1024,1280,1440,1680,1920,2560],Bi=[320],Wi=function(t,e){return{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height+(e.externalInfoHeight||0)}},Vi=function(t,e){return"#pro-gallery-"+t+" #"+we.getDomId(e)},Ui=function(t,e,i,r){var s=[];return e.forEach((function(e,n){var o="";if(e){var a=r[n],l=r[n-1],h=!l||0===s.length;o+=h?"":"@media only screen and (min-width: "+(2*l+a)/3+"px) {",o+=function(t,e,i,r){void 0===t&&(t="");var s="",n=r-2*i.imageMargin,o=function(t){return Math.round(t/n*1e4)/100};return e.items.forEach((function(e,r){var n=Vi(t,e);if(r<50){var a=Wi(e,i),l="top:"+o(a.top)+"vw;",h="width:"+o(a.width)+"vw;",c="height:"+o(a.height)+"vw;",u="left:"+o(a.left)+"%;",p="width:"+o(a.width)+"%;";s+=n+" {"+l+u+p+c+"}",s+=n+" .gallery-item-wrapper, "+n+" .gallery-item-hover, "+n+" .gallery-item {"+h+c+"}"}else s+=n+"{display:none;}"})),s}(t,e,i,a),o+=h?"":"}",s.push(o)}})),s},Fi=function(t){var e=t.isApproximateWidth,i=t.galleryItems,r=t.layoutParams,s=t.isMobile,n=t.galleryDomId;if(e){var o=s?Bi:zi,a=o.map((function(t){var e=Hi({},r,{},{container:Hi({},r.container,{galleryWidth:t,width:t})});return Object(fi.createLayout)(e)}));return Ui(n,a,r.styleParams,o)}var l=[];return l.push(function(t,e,i){void 0===t&&(t="");var r=i.isRTL,s="";return e.forEach((function(e){var n=Vi(t,e),o=Wi(e,i),a="top:"+o.top+"px;",l=r?"right:"+o.left+"px;left:auto;":"left:"+o.left+"px;",h="width:"+o.width+"px;",c="height:"+o.height+"px;";s+=n+" {"+a+l+h+c+"}"})),s}(n,i,r.styleParams)),l};function Ki(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function qi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Yi={SCROLL:"SCROLL",CLICKED:"CLICKED",HOVERED:"HOVERED",ENDED:"ENDED",INIT_SCROLL:"INIT_SCROLL"},Zi=function(){function t(t){var e=this;this.scrollBase=0,this.videoItems=[],this.currentPlayingIdx=-1,this.nextInLineIdx=-1,this.lastItemCount=0,this.playing=!1,this.updateGalleryStructure=this.updateGalleryStructure.bind(this),this.onScroll=this.onScroll.bind(this),this.handleEvent=this.handleEvent.bind(this),this.play=this.play.bind(this),this.stop=this.stop.bind(this),this.getPlayingIdx=this.getPlayingIdx.bind(this),this.top=0,this.left=0,this.videoPlay=void 0,this.setPlayingVideos=t.setPlayingVideos,this.trigger=Object.assign.apply(Object,[{}].concat(Object.keys(Yi).map((function(t){var i;return(i={})[t]=function(i){return e.handleEvent({eventName:t,eventData:i})},i}))))}var e=t.prototype;return e.updateGalleryStructure=function(t){var e=this,i=t.galleryStructure,r=t.scrollBase,s=t.videoPlay,n=t.oneRow;this.scrollBase=r,this.videoPlay=s,this.oneRow=n;var o=this.lastItemCount,a=i.galleryItems.length;(this.lastItemCount=a,o!==a)&&i.galleryItems.slice(o,a).forEach((function(t){"video"===t.type&&e.videoItems.push(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ki(i,!0).forEach((function(e){qi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ki(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},t,{videoPlayRating:t.idx}))}))},e.handleEvent=function(t){var e=t.eventName,i=t.eventData;switch(e){case Yi.SCROLL:this.onScroll(i);break;case $.ITEM_ACTION_TRIGGERED:this.itemClicked(i.idx);break;case $.HOVER_SET:this.itemHovered(i);break;case $.VIDEO_ENDED:this.videoEnded(i.idx);break;case Yi.INIT_SCROLL:this.ScrollializePlayState()}},e.itemHovered=function(t){"hover"===this.videoPlay&&this.IdxExistsInVideoItems(t)&&this.play(t,-1)},e.itemClicked=function(t){"onClick"===this.videoPlay&&this.IdxExistsInVideoItems(t)&&(this.currentPlayingIdx===t?this.stop():this.play(t,-1))},e.onScroll=function(t){var e=this,i=t.top,r=t.left;this.top=i||this.top,this.left=r||this.left,-1===this.currentPlayingIdx?this.shouldAutoPlay()&&this.playNextVideoByRating({top:this.top,left:this.left}):(this.isCurrentVideoStillVisible({top:this.top,left:this.left})||this.stop(this.videoItems.findIndex((function(t){return t.idx===e.currentPlayingIdx}))),this.shouldAutoPlay()&&this.playNextVideoByRating({top:this.top,left:this.left}))},e.videoEnded=function(t){var e=this.videoItems.findIndex((function(e){return e.idx===t}));this.stop(e);var i={top:this.top,left:this.left};this.shouldAutoPlay()&&this.playNextVideoByRating(i)},e.initializePlayState=function(){this.shouldAutoPlay()&&this.playNextVideoByRating({top:this.top,left:this.left})},e.playNextVideoByRating=function(t){var e=this,i=t.top,r=t.left,s={idx:-1,rating:1/0},n={idx:-1,rating:1/0};this.videoItems.some((function(t){return e.isVisible(t,{top:i,left:r})?(t.videoPlayRating<=n.rating?(s.idx=n.idx,s.rating=n.rating,n.idx=t.idx,n.rating=t.videoPlayRating):t.videoPlayRating<=s.rating&&(s.idx=t.idx,s.rating=t.videoPlayRating),!1):n.idx>=0})),this.play(n.idx,s.idx)},e.calculateCurrentItemPlacement=function(){var t=this;return this.videoItems.findIndex((function(e){return e.idx===t.currentPlayingIdx}))},e.play=function(t,e){this.setNextInLineIdx(e),this.setPlayingIdx(t),this.playing=!0},e.stop=function(t){t>=0&&(this.videoItems[t].videoPlayRating+=1337),this.setPlayingIdx(-1),this.playing=!1},e.onPlayingIdxChange=function(){this.setPlayingVideos(this.currentPlayingIdx,this.nextInLineIdx)},e.getPlayingIdx=function(){return this.currentPlayingIdx},e.setPlayingIdx=function(t){this.currentPlayingIdx!==t&&(this.currentPlayingIdx=t,this.onPlayingIdxChange())},e.setNextInLineIdx=function(t){this.nextInLineIdx!==t&&(this.nextInLineIdx=t,this.onPlayingIdxChange())},e.isCurrentVideoStillVisible=function(t){var e=t.top,i=t.left,r=this.calculateCurrentItemPlacement();return this.isVisible(this.videoItems[r],{top:e,left:i})},e.isVisible=function(t,e){var i,r=e.top,s=e.left,n={offsetTop:this.scrollbase||0,scrollY:r,scrollLeft:s},o=(t.offset.top-t.offset.bottom)/2,a=(t.offset.left-t.offset.right)/2,l=Ri({target:n,scrollBase:this.scrollBase,top:t.offset.top,bottom:t.offset.top+t.style.height,screenHeight:S&&S.screen&&S.screen.height,padding:o});return i=!this.oneRow||Ai({target:n,left:t.offset.left,right:t.offset.left+t.style.width,screenWidth:S&&S.screen&&S.screen.width,padding:a}),l&&i},e.shouldAutoPlay=function(){return"auto"===this.videoPlay},e.IdxExistsInVideoItems=function(t){return this.videoItems.some((function(e){return e.idx===t}))},t}();function Ji(){return(Ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Xi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function $i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Xi(i,!0).forEach((function(e){Qi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Xi(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Qi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var er=function(t){var e,i;function r(e){var i;i=t.call(this,e)||this,M.isVerbose()&&console.count("[OOISSR] galleryContainerNew constructor",S.isMock),i.getMoreItemsIfNeeded=i.getMoreItemsIfNeeded.bind(tr(i)),i.enableScrollPreload=i.enableScrollPreload.bind(tr(i)),i.toggleLoadMoreItems=i.toggleLoadMoreItems.bind(tr(i)),i.scrollToItem=i.scrollToItem.bind(tr(i)),i._scrollingElement=i.getScrollingElement(),i.duplicateGalleryItems=i.duplicateGalleryItems.bind(tr(i)),i.eventsListener=i.eventsListener.bind(tr(i)),i.onGalleryScroll=i.onGalleryScroll.bind(tr(i)),i.setPlayingIdxState=i.setPlayingIdxState.bind(tr(i));var r={pgScroll:0,showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:!1,playingVideoIdx:-1,nextVideoIdx:-1,viewComponent:null};i.state=r,i.items=[],i.itemsDimensions={},i.preloadedItems={},i.layoutCss=[];var s={setPlayingVideos:E()?function(){}:i.setPlayingIdxState};if(i.videoScrollHelper=new Zi(s),M.isSSR()){i.initialGalleryState=i.reCreateGalleryExpensively(e,r);try{i.galleryInitialStateJson=JSON.stringify(i.initialGalleryState)}catch(t){i.galleryInitialStateJson=null}}else try{if(M.shouldDebug("no_hydrate"))i.initialGalleryState={};else{var n=JSON.parse(S.document.querySelector("#pro-gallery-"+e.domId+" #ssr-state-to-hydrate").innerHTML);i.reCreateGalleryFromState({items:e.items,styles:n.styles,container:n.container,gotFirstScrollEvent:r.gotFirstScrollEvent}),i.initialGalleryState=n}}catch(t){i.initialGalleryState={};try{var o=i.reCreateGalleryExpensively(e);Object.keys(o).length>0&&(i.initialGalleryState=o)}catch(t){}}return i.state=$i({},r,{},i.initialGalleryState),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.componentDidMount=function(){var t=this;this.loadItemsDimensionsIfNeeded();var e=function(){t.getMoreItemsIfNeeded(0),t.handleNewGalleryStructure(),t.eventsListener($.APP_LOADED,{})},i=this.reCreateGalleryExpensively(this.props);Object.keys(i).length>0?(M.isVerbose()&&console.warn("Pro Gallery changed after mount",M.printableObjectsDiff(this.state,i)),this.setState(i,(function(){e()}))):e(),this.videoScrollHelper.initializePlayState(),this.currentHoverChangeEvent=S.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null),this.props.galleryId&&(this.currentHoverChangeEvent.galleryId=this.props.galleryId)},s.componentWillReceiveProps=function(t){var e=this;!this.currentHoverChangeEvent.galleryId&&t.galleryId&&(this.currentHoverChangeEvent.galleryId=t.galleryId);var i=function(t){return{domId:t.domId,styles:t.styles,container:t.container,items:t.items}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);var r,s=!0;try{var n=i(this.props),o=i(t);s=JSON.stringify(n)!==JSON.stringify(o)}catch(t){console.error("Cannot compare props",t)}s&&(M.isVerbose()&&console.log("New props arrived",M.printableObjectsDiff(this.props,t)),r=e.reCreateGalleryExpensively(t),Object.keys(r).length>0&&e.setState(r,(function(){e.handleNewGalleryStructure()})),t.currentIdx&&t.currentIdx>0&&this.scrollToItem(t.currentIdx,!1,!0,0),this.props.isInDisplay!==t.isInDisplay&&this.handleNavigation(t.isInDisplay))},s.loadItemsDimensionsIfNeeded=function(){var t=this;if(!M.isSSR()&&this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0){var e=this.galleryStructure.galleryItems.filter((function(t){try{return t.isVisible&&t.isDimensionless&&!t.isPreloaded}catch(t){return!1}}));if(e.length){var i=M.debounce((function(){var e=t.props,i={items:e.items,styles:e.styles,container:e.container,watermarkData:e.watermarkData,itemsDimensions:t.itemsDimensions},r=t.reCreateGalleryExpensively(i,t.state);Object.keys(r).length>0&&t.setState(r,(function(){t.handleNewGalleryStructure()}))}),500);e.forEach((function(e,r){e.isPreloaded=!0,function(e,i){if(e&&e.itemId&&e.isGalleryItem)try{var r=e.itemId;if(t.itemsDimensions[r])return;if(void 0!==t.preloadedItems[r])return;t.preloadedItems[r]=new Image,M.isVerbose()&&console.log("Preloading item #"+e),"string"==typeof e.preload_url?t.preloadedItems[r].src=e.preload_url:t.preloadedItems[r].src=e.createUrl(V,K.LOW_RES),"function"==typeof i&&(t.preloadedItems[r].onload=function(t){i(t)}),t.preloadedItems[r]}catch(t){return void console.error("Could not preload item",e,t)}}(e,(function(s){try{M.isVerbose()&&console.log("item loaded event",r,s);var n=s.srcElement,o=t.items.find((function(t){return t.itemId===e.itemId}));if(o){var a={width:n.width,height:n.height,measured:!0};Object.assign(o,a),"object"==typeof o.metaData&&Object.assign(o.metaData,a),t.itemsDimensions[o.itemId]=a,i()}}catch(t){console.error("Could not calc element dimensions",t)}}))}))}}},s.handleNavigation=function(t){t?this.videoScrollHelper.trigger.INIT_SCROLL():this.videoScrollHelper.stop()},s.handleNewGalleryStructure=function(){var t=this.state,e=t.container,i=t.needToHandleShowMoreClick,r=t.initialGalleryHeight,s=this.state.styles,n=this.items.length,o=this.layout.height,a=this.layout.items,l="vertical"===this.containerInfiniteGrowthDirection(),h=!1;if(!l&&i){h=e.height+(r-138)}var c={numOfItems:n,container:e,styleParams:s,layoutHeight:o,layoutItems:a,isInfinite:l,updatedHeight:h};this.eventsListener($.GALLERY_CHANGE,c),i&&this.setState({needToHandleShowMoreClick:!1})},s.reCreateGalleryFromState=function(t){var e=t.items,i=t.styles,r=t.container,s=t.gotFirstScrollEvent;this.items=e.map((function(t){return Li.convertDtoToLayoutItem(t)}));var n={items:this.items,container:r,styleParams:i,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1,createLayoutOnInit:!1}};this.layouter=new fi.Layouter(n),this.layout=this.layouter.createLayout(n),this.galleryStructure=Li.convertToGalleryItems(this.layout,{sharpParams:i.sharpParams,resizeMediaUrl:this.props.resizeMediaUrl}),this.videoScrollHelper.updateGalleryStructure({galleryStructure:this.galleryStructure,scrollBase:r.scrollBase,videoPlay:i.videoPlay,oneRow:i.oneRow});var o=E()||s;this.scrollCss=this.getScrollCssIfNeeded({galleryDomId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:i,allowPreloading:o}),this.createCssLayoutsIfNeeded(n)},s.createCssLayoutsIfNeeded=function(t,e){void 0===e&&(e=!1),this.layoutCss=Fi({layoutParams:t,isApproximateWidth:e,isMobile:M.isMobile(),galleryDomId:this.props.domId,galleryItems:e?null:this.galleryStructure.galleryItems})},s.reCreateGalleryExpensively=function(t,e){var i=this,r=t.items,s=t.styles,n=t.container,o=t.watermarkData,a=t.itemsDimensions;M.isVerbose()&&(console.count("PROGALLERY [COUNT] reCreateGalleryExpensively"),console.time("PROGALLERY [TIME] reCreateGalleryExpensively"));var l,h,c=e||this.state||{},u=function(t,e){var i,r,s=t.items,n=t.styles,o=t.container,a=t.itemsDimensions,l={items:"",itemsMetadata:"",itemsAdded:"",styles:"",container:""},h={items:(i=s,r=e.items,i===e.items?(l.items="items are the same object.",!1):i?e.items&&r?r.length!==i.length?(l.items="more new items than old items (or vice versa).",!0):i.reduce((function(t,e,i){var s=r[i];try{var n=t||!e||!s||e.itemId!==s.itemId||e.mediaUrl!==s.mediaUrl;return n&&(l.items="items #"+i+" id was changed."),n}catch(t){return l.items="an error occured",!0}}),!1):(l.items="old items do not exist.",!0):(l.items="new items do not exist.",!1)),addedItems:function(t){var i=e.items;if(t===e.items)return l.itemsAdded="items are the same object.",!1;if(!t)return l.itemsAdded="new items do not exist.",!1;if(!e.items||!i)return l.itemsAdded="old items do not exist.",!1;if(i.length>=t.length)return l.itemsAdded="more old items than new items.",!1;var r=i.reduce((function(e,i,r){return e&&i.id===t[r].itemId}),!0);return r||(l.itemsAdded="items ids were changed. "),r}(s),itemsMetadata:function(t){var i=e.items;return t?e.items&&i?t.reduce((function(t,e,r){var s=i[r];try{var n=t||JSON.stringify(e.metaData)!==JSON.stringify(s.metaData);return n&&(l.itemsMetadata="item #"+r+" data was changed."),n}catch(t){return l.itemsMetadata="an error occured.",!0}}),!1):(l.itemsMetadata="old items do not exist.",!0):(l.itemsMetadata="new items do not exist.",!1)}(s),styles:function(t){if(!t)return l.styles="no new styles.",!1;if(!e.styles)return l.styles="no old styles.",!0;try{var i=JSON.stringify(t)!==JSON.stringify(e.styles);return i&&(l.styles="styles were changed."),i}catch(t){return console.error("Could not compare styles",t),!1}}(n),container:function(t){if(!e.styles||!e.container)return l.container="no old container or styles. ",!0;if(!t)return l.container="no new container.",!1;var i={height:!(!e.styles.oneRow&&e.styles.enableInfiniteScroll)&&(!!t.height&&t.height!==e.container.height),width:!e.container||!!t.width&&t.width!==e.container.width,scrollBase:!!t.scrollBase&&t.scrollBase!==e.container.scrollBase};return Object.keys(i).reduce((function(t,e){return i[e]&&(l.container+="container."+e+" has changed. "),t||i[e]}),!1)}(o),itemsDimensions:!!a};return h.str=Object.entries(h).map((function(t){var e=t[0];return t[1]?e:""})).filter((function(t){return!!t})).join("|"),h.any=h.str.length>0,h.reason=l,h}({items:r,styles:s,container:n,watermarkData:o,itemsDimensions:a},$i({},c,{items:this.items})),p={};if(M.isVerbose()&&console.log("PROGALLERY reCreateGalleryExpensively",u,{items:r,styles:s,container:n,watermarkData:o}),!u.itemsDimensions&&!u.itemsMetadata||u.items||u.addedItems?u.items&&!u.addedItems?(this.items=r.map((function(t){return Object.assign(Li.convertDtoToLayoutItem(t),$i({},i.itemsDimensions[t.itemId]))})),p.items=this.items.map((function(t){return t.itemId})),this.gettingMoreItems=!1):u.addedItems&&(this.items=this.items.concat(r.slice(this.items.length).map((function(t){return Li.convertDtoToLayoutItem(t)}))),p.items=this.items.map((function(t){return t.itemId})),this.gettingMoreItems=!1):(this.items=this.items.map((function(t,e){var s=Object.assign({},r[e].metaData);return Object.assign(t,{metaData:s},$i({},i.itemsDimensions[t.itemId]))})),p.items=this.items.map((function(t){return t.itemId}))),u.styles||u.container?(s=s||c.styles,n=n||c.container,si.updateParams({styles:s,container:n,domId:this.props.domId}),l=di(s),si.updateParams({styles:l}),h=Object.assign({},n,si.getGalleryDimensions()),si.updateParams({container:h}),p.styles=l,p.container=h):(l=c.styles,h=c.container),!this.galleryStructure||u.any){M.isVerbose()&&console.count("PROGALLERY [COUNT] - reCreateGalleryExpensively (isNew)");var d={items:this.items,container:h,styleParams:l,gotScrollEvent:!0,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};this.layouter&&u.addedItems?d.options.useExistingLayout=!0:(d.options.createLayoutOnInit=!1,this.layouter=new fi.Layouter(d)),this.layout=this.layouter.createLayout(d);var m={watermark:o,sharpParams:l.sharpParams,lastVisibleItemIdx:this.lastVisibleItemIdx,resizeMediaUrl:this.props.resizeMediaUrl},g=this.galleryStructure||this.layout;u.addedItems?this.galleryStructure=Li.convertExistingStructureToGalleryItems(g,this.layout,m):this.galleryStructure=Li.convertToGalleryItems(this.layout,m,g.galleryItems),this.videoScrollHelper.updateGalleryStructure({galleryStructure:this.galleryStructure,scrollBase:h.scrollBase,videoPlay:l.videoPlay,oneRow:l.oneRow,cb:this.setPlayingIdxState}),u.items&&this.loadItemsDimensionsIfNeeded();var f=si.isUnknownWidth()&&!l.oneRow;this.createCssLayoutsIfNeeded(d,f,u);var y=E()||c.gotFirstScrollEvent||c.showMoreClickedAtLeastOnce;this.scrollCss=this.getScrollCssIfNeeded({galleryDomId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:l,allowPreloading:y})}return M.isVerbose()&&(console.log("PROGALLERY [RENDERS] - reCreateGalleryExpensively",{isNew:u},{items:r,styles:s,container:n,watermarkData:o}),console.timeEnd("PROGALLERY [TIME] reCreateGalleryExpensively")),u.any?p:{}},s.getScrollingElement=function(){var t=this;return{vertical:this.props.scrollingElement?"function"==typeof this.props.scrollingElement?this.props.scrollingElement:function(){return t.props.scrollingElement}:function(){return S},horizontal:function(){return S.document.querySelector("#pro-gallery-"+t.props.domId+" #gallery-horizontal-scroll")}}},s.scrollToItem=function(t,e,i,r){void 0===r&&(r=0);var s=this._scrollingElement,n=s.horizontal();return _i({isRTL:this.state.styles.isRTL,oneRow:this.state.styles.oneRow,galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:t,fixedScroll:e,isManual:i,scrollingElement:s,horizontalElement:n,durationInMS:r})},s.containerInfiniteGrowthDirection=function(t){void 0===t&&(t=!1);var e=t||this.state.styles,i=this.props.styles.enableInfiniteScroll,r=this.state.showMoreClickedAtLeastOnce,s=e.oneRow,n=e.loadMoreAmount;return s?"horizontal":i?"vertical":r&&"all"===n?"vertical":"none"},s.setPlayingIdxState=function(t,e){this.setState({playingVideoIdx:t,nextVideoIdx:e})},s.onGalleryScroll=function(t){var e=t.top,i=t.left;this.videoScrollHelper.trigger.SCROLL({top:e,left:i})},s.getScrollCssIfNeeded=function(t){var e=t.galleryDomId,i=t.items,r=t.styleParams,s=t.allowPreloading;return!k()?we.calcScrollCss({items:i,isUnknownWidth:si.isUnknownWidth(),styleParams:r,galleryDomId:e,allowPreloading:s}):[]},s.toggleLoadMoreItems=function(){var t=this;this.eventsListener($.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.gotFirstScrollEvent||(this.scrollCss=this.getScrollCssIfNeeded({galleryDomId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles,allowPreloading:!0})),this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:!0},(function(){t.handleNewGalleryStructure()}));else{var e=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:!0,initialGalleryHeight:e,needToHandleShowMoreClick:!0},(function(){t.handleNewGalleryStructure()}))}},s.enableScrollPreload=function(){this.state.gotFirstScrollEvent||(this.state.showMoreClickedAtLeastOnce||(this.scrollCss=this.getScrollCssIfNeeded({galleryDomId:this.props.domId,items:this.galleryStructure.galleryItems,styleParams:this.state.styles,allowPreloading:!0})),this.setState({gotFirstScrollEvent:!0}))},s.duplicateGalleryItems=function(){var t,e=this,i=this.reCreateGalleryExpensively($i({},this.props,{items:(t=this.items).concat.apply(t,this.items.slice(0,this.props.totalItemsCount))}));Object.keys(i).length>0&&this.setState(i,(function(){e.handleNewGalleryStructure()}))},s.eventsListener=function(t,e){this.videoScrollHelper.handleEvent({eventName:t,eventData:e}),t===$.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=e,S.dispatchEvent(this.currentHoverChangeEvent)),"function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e)},s.getMoreItemsIfNeeded=function(t){var e=this;if(this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&!this.gettingMoreItems&&this.state.items&&this.state.styles&&this.state.container){var i=this.state.styles.oneRow,r=this.galleryStructure[i?"width":"height"],s=S.screen[i?"width":"height"];r-(t+s+(i?0:this.state.container.scrollBase))<3*s&&(this.state.items.length<this.props.totalItemsCount?(this.gettingMoreItems=!0,this.eventsListener($.NEED_MORE_ITEMS,this.state.items.length),setTimeout((function(){e.gettingMoreItems=!1}),2e3)):this.state.styles.slideshowLoop&&this.duplicateGalleryItems())}},s.canRender=function(){var t=this.state.container&&this.state.styles&&this.state.items;return!t&&M.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",this.state,t,this.state.container,this.state.styles,this.state.items),t},s.render=function(){if(!this.canRender())return null;var t=this.state.styles.oneRow?ii:Be;M.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.state.container.scrollBase,{state:this.state,items:this.items}));var e="none"===this.containerInfiniteGrowthDirection(),i=this.layouter?this.layouter.findNeighborItem:function(){},r=!!M.isSSR()&&"div.pro-gallery-parent-container * { transition: none !important }";return n.a.createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container"},n.a.createElement(Ni,{galleryDomId:this.props.domId,oneRow:this.state.styles.oneRow,isRTL:this.state.styles.isRTL,totalWidth:this.galleryStructure.width,scrollBase:this.state.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,enableScrollPreload:this.enableScrollPreload,onScroll:this.onGalleryScroll}),n.a.createElement(t,Ji({galleryDomId:this.props.domId,galleryId:this.props.galleryId,isInDisplay:this.props.isInDisplay,isUnknownWidth:si.isUnknownWidth(),scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,items:this.items,itemsLoveData:this.props.itemsLoveData,galleryStructure:this.galleryStructure,styleParams:this.state.styles,container:this.state.container,watermark:this.props.watermarkData,settings:this.props.settings,gotScrollEvent:!0,scroll:{},displayShowMore:e,domId:this.props.domId,customHoverRenderer:this.props.customHoverRenderer,customInfoRenderer:this.props.customInfoRenderer,playingVideoIdx:this.state.playingVideoIdx,nextVideoIdx:this.state.nextVideoIdx,noFollowForSEO:this.props.noFollowForSEO,actions:$i({},this.props.actions,{findNeighborItem:i,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:function(){},scrollToItem:this.scrollToItem,duplicateGalleryItems:this.duplicateGalleryItems})},this.props.gallery)),this.galleryInitialStateJson&&n.a.createElement("div",{id:"ssr-state-to-hydrate",style:{display:"none"}},this.galleryInitialStateJson),n.a.createElement("div",{"data-key":"items-styles",key:"items-styles",style:{display:"none"}},this.layoutCss.map((function(t,e){return n.a.createElement("style",{"data-key":"layoutCss-"+e,key:"layoutCss-"+e},t)})),(this.scrollCss||[]).map((function(t,e){return n.a.createElement("style",{"data-key":"scrollCss_"+e,key:"scrollCss_"+e},t)})),r&&n.a.createElement("style",null,r)))},r}(n.a.Component);i(12);function ir(){return(ir=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}var rr=function(t){var e,i;function r(e){var i;i=t.call(this)||this;var r=!!S.isMock;return i.canRender=!r||!0===e.allowSSR,i.canRender&&i.init(e),M.isLocal()&&console.warn("PRO GALLERY DEV"),i}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var s=r.prototype;return s.init=function(t){void 0!==t.viewMode&&x.setViewMode(t.viewMode),this.domId=t.domId||Math.floor(1e4*Math.random())},s.componentWillReceiveProps=function(t){this.props.viewMode!==t.viewMode&&x.setViewMode(t.viewMode)},s.render=function(){return this.canRender&&n.a.createElement("div",{id:"pro-gallery-"+this.domId,className:"pro-gallery"},n.a.createElement(er,ir({},this.props,{domId:this.domId,items:this.props.items||[],watermarkData:this.props.watermarkData,settings:this.props.settings||{},offsetTop:this.props.offsetTop,itemsLoveData:this.props.itemsLoveData?this.props.itemsLoveData:{}})))},r}(H);i.d(e,"ProGallery",(function(){return rr})),i.d(e,"LoveButton",(function(){return Ft})),i.d(e,"GalleryItem",(function(){return Pi}))}])}));